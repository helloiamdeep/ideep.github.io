!function(e,t){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,i=!1,s=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?s=!1:t[4]&&(i=parseInt(t[4])<18);var n={};n.pluginBuilder="./css-builder";var r,o=function(){r=document.createElement("style"),e.appendChild(r)},a=function(e,t){o();var i=r.styleSheet||r.sheet;if(i&&i.addImport)i.addImport(e),r.onload=t;else{r.textContent='@import "'+e+'";';var s=setInterval(function(){try{r.sheet.cssRules,clearInterval(s),t()}catch(e){}},10)}},l=function(t,i){var n=document.createElement("link");if(n.type="text/css",n.rel="stylesheet",s)n.onload=function(){n.onload=function(){},setTimeout(i,7)};else var r=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==n.href)return clearInterval(r),i()}},10);n.href=t,e.appendChild(n)};return n.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},n.load=function(e,t,s,n){(i?a:l)(t.toUrl(e+".css"),s)},n}),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(i,s){"object"==typeof e?t.exports=s(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],s):i.URI=s(i.punycode,i.IPv6,i.SecondLevelDomains,i)}(this,function(e,t,i,s){"use strict";function n(e,t){return this instanceof n?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new n(e,t)}function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===o(e)}function l(e,t){var i,s,n={};if(a(t))for(i=0,s=t.length;s>i;i++)n[t[i]]=!0;else n[t]=!0;for(i=0,s=e.length;s>i;i++)void 0!==n[e[i]]&&(e.splice(i,1),s--,i--);return e}function u(e,t){var i,s;if(a(t)){for(i=0,s=t.length;s>i;i++)if(!u(e,t[i]))return!1;return!0}var n=o(t);for(i=0,s=e.length;s>i;i++)if("RegExp"===n){if("string"==typeof e[i]&&e[i].match(t))return!0}else if(e[i]===t)return!0;return!1}function c(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var i=0,s=e.length;s>i;i++)if(e[i]!==t[i])return!1;return!0}function m(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}var p=s&&s.URI;n.version="1.12.0";var f=n.prototype,d=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},n.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return n.domAttributes[t]}},n.encode=h,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=h,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},n.encodeQuery=function(e,t){var i=n.encode(e+"");return t?i.replace(/%20/g,"+"):i},n.decodeQuery=function(e,t){e+="";try{return n.decode(t?e.replace(/\+/g,"%20"):e)}catch(i){return e}},n.recodePath=function(e){for(var t=(e+"").split("/"),i=0,s=t.length;s>i;i++)t[i]=n.encodePathSegment(n.decode(t[i]));return t.join("/")},n.decodePath=function(e){for(var t=(e+"").split("/"),i=0,s=t.length;s>i;i++)t[i]=n.decodePathSegment(t[i]);return t.join("/")};var g,v={encode:"encode",decode:"decode"},y=function(e,t){return function(i){return n[t](i+"").replace(n.characters[e][t].expression,function(i){return n.characters[e][t].map[i]})}};for(g in v)n[g+"PathSegment"]=y("pathname",v[g]);n.encodeReserved=y("reserved","encode"),n.parse=function(e,t){var i;return t||(t={}),i=e.indexOf("#"),i>-1&&(t.fragment=e.substring(i+1)||null,e=e.substring(0,i)),i=e.indexOf("?"),i>-1&&(t.query=e.substring(i+1)||null,e=e.substring(0,i)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=n.parseAuthority(e,t)):(i=e.indexOf(":"),i>-1&&(t.protocol=e.substring(0,i)||null,t.protocol&&!t.protocol.match(n.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(i+3):"//"===e.substring(i+1,i+3)?(e=e.substring(i+3),e=n.parseAuthority(e,t)):(e=e.substring(i+1),t.urn=!0))),t.path=e,t},n.parseHost=function(e,t){var i,s,n=e.indexOf("/");return-1===n&&(n=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,n)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,n)||null,t.port=null):(s=e.substring(0,n).split(":"),t.hostname=s[0]||null,t.port=s[1]||null),t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},n.parseAuthority=function(e,t){return e=n.parseUserinfo(e,t),n.parseHost(e,t)},n.parseUserinfo=function(e,t){var i,s=e.indexOf("/"),r=s>-1?e.lastIndexOf("@",s):e.indexOf("@");return r>-1&&(-1===s||s>r)?(i=e.substring(0,r).split(":"),t.username=i[0]?n.decode(i[0]):null,i.shift(),t.password=i[0]?n.decode(i.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},n.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var i,s,r,o={},a=e.split("&"),l=a.length,u=0;l>u;u++)i=a[u].split("="),s=n.decodeQuery(i.shift(),t),r=i.length?n.decodeQuery(i.join("="),t):null,o[s]?("string"==typeof o[s]&&(o[s]=[o[s]]),o[s].push(r)):o[s]=r;return o},n.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=n.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},n.buildHost=function(e){var t="";return e.hostname?(n.ip6_expression.test(e.hostname)?t+=e.port?"["+e.hostname+"]:"+e.port:e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},n.buildAuthority=function(e){return n.buildUserinfo(e)+n.buildHost(e)},n.buildUserinfo=function(e){var t="";return e.username&&(t+=n.encode(e.username),e.password&&(t+=":"+n.encode(e.password)),t+="@"),t},n.buildQuery=function(e,t,i){var s,r,o,l,u="";for(r in e)if(d.call(e,r)&&r)if(a(e[r]))for(s={},o=0,l=e[r].length;l>o;o++)void 0!==e[r][o]&&void 0===s[e[r][o]+""]&&(u+="&"+n.buildQueryParameter(r,e[r][o],i),t!==!0&&(s[e[r][o]+""]=!0));else void 0!==e[r]&&(u+="&"+n.buildQueryParameter(r,e[r],i));return u.substring(1)},n.buildQueryParameter=function(e,t,i){return n.encodeQuery(e,i)+(null!==t?"="+n.encodeQuery(t,i):"")},n.addQuery=function(e,t,i){if("object"==typeof t)for(var s in t)d.call(t,s)&&n.addQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=i);"string"==typeof e[t]&&(e[t]=[e[t]]),a(i)||(i=[i]),e[t]=e[t].concat(i)}},n.removeQuery=function(e,t,i){var s,r,o;if(a(t))for(s=0,r=t.length;r>s;s++)e[t[s]]=void 0;else if("object"==typeof t)for(o in t)d.call(t,o)&&n.removeQuery(e,o,t[o]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==i?e[t]===i?e[t]=void 0:a(e[t])&&(e[t]=l(e[t],i)):e[t]=void 0}},n.hasQuery=function(e,t,i,s){if("object"==typeof t){for(var r in t)if(d.call(t,r)&&!n.hasQuery(e,r,t[r]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(i)){case"Undefined":return t in e;case"Boolean":var l=Boolean(a(e[t])?e[t].length:e[t]);return i===l;case"Function":return!!i(e[t],t,e);case"Array":if(!a(e[t]))return!1;var m=s?u:c;return m(e[t],i);case"RegExp":return a(e[t])?s?u(e[t],i):!1:Boolean(e[t]&&e[t].match(i));case"Number":i=String(i);case"String":return a(e[t])?s?u(e[t],i):!1:e[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.commonPath=function(e,t){var i,s=Math.min(e.length,t.length);for(i=0;s>i;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return 1>i?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":(("/"!==e.charAt(i)||"/"!==t.charAt(i))&&(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},n.withinString=function(e,t,i){i||(i={});var s=i.start||n.findUri.start,r=i.end||n.findUri.end,o=i.trim||n.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(s.lastIndex=0;;){var l=s.exec(e);if(!l)break;var u=l.index;if(i.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&a.test(c))continue}var m=u+e.slice(u).search(r),h=e.slice(u,m).replace(o,"");if(!i.ignore||!i.ignore.test(h)){m=u+h.length;var p=t(h,u,m,e);e=e.slice(0,u)+p+e.slice(m),s.lastIndex=u+p.length}}return s.lastIndex=0,e},n.ensureValidHostname=function(t){if(t.match(n.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(n.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},n.noConflict=function(e){if(e){var i={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(i.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(i.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(i.SecondLevelDomains=SecondLevelDomains.noConflict()),i}return s.URI===this&&(s.URI=p),this},f.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},f.clone=function(){return new n(this)},f.valueOf=f.toString=function(){return this.build(!1)._string},v={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},y=function(e){return function(t,i){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!i),this)}};for(g in v)f[g]=y(v[g]);v={query:"?",fragment:"#"},y=function(e,t){return function(i,s){return void 0===i?this._parts[e]||"":(null!==i&&(i+="",i.charAt(0)===t&&(i=i.substring(1))),this._parts[e]=i,this.build(!s),this)}};for(g in v)f[g]=y(g,v[g]);v={search:["?","query"],hash:["#","fragment"]},y=function(e,t){return function(i,s){var n=this[e](i,s);return"string"==typeof n&&n.length?t+n:n}};for(g in v)f[g]=y(v[g][1],v[g][0]);f.pathname=function(e,t){if(void 0===e||e===!0){var i=this._parts.path||(this._parts.hostname?"/":"");return e?n.decodePath(i):i}return this._parts.path=e?n.recodePath(e):"/",this.build(!t),this},f.path=f.pathname,f.href=function(e,t){var i;if(void 0===e)return this.toString();this._string="",this._parts=n._parts();var s=e instanceof n,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var o=n.getDomAttribute(e);e=e[o]||"",r=!1}if(!s&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=n.parse(e,this._parts);else{if(!s&&!r)throw new TypeError("invalid input");var a=s?e._parts:e;for(i in a)d.call(this._parts,i)&&(this._parts[i]=a[i])}return this.build(!t),this},f.is=function(e){var t=!1,s=!1,r=!1,o=!1,a=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,s=n.ip4_expression.test(this._parts.hostname),r=n.ip6_expression.test(this._parts.hostname),t=s||r,o=!t,a=o&&i&&i.has(this._parts.hostname),l=o&&n.idn_expression.test(this._parts.hostname),u=o&&n.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return s;case"ip6":case"ipv6":case"inet6":return r;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var b=f.protocol,w=f.port,_=f.hostname;f.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(n.protocol_expression)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},f.scheme=f.protocol,f.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return w.call(this,e,t)},f.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var i={};n.parseHost(e,i),e=i.hostname}return _.call(this,e,t)},f.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?n.buildHost(this._parts):"":(n.parseHost(e,this._parts),this.build(!t),this)},f.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?n.buildAuthority(this._parts):"":(n.parseAuthority(e,this._parts),this.build(!t),this)},f.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var i=n.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return"@"!==e[e.length-1]&&(e+="@"),n.parseUserinfo(e,this._parts),this.build(!t),this},f.resource=function(e,t){var i;return void 0===e?this.path()+this.search()+this.hash():(i=n.parse(e),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},f.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,i)||""}var s=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,s),a=new RegExp("^"+r(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&n.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},f.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.match(/\./g);if(i&&i.length<2)return this._parts.hostname;var s=this._parts.hostname.length-this.tld(t).length-1;return s=this._parts.hostname.lastIndexOf(".",s-1)+1,this._parts.hostname.substring(s)||""}if(!e)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(r(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},f.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var s=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(s+1);return t!==!0&&i&&i.list[n.toLowerCase()]?i.get(this._parts.hostname)||n:n}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");o=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},f.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var i=this._parts.path.length-this.filename().length-1,s=this._parts.path.substring(0,i)||(this._parts.hostname?"/":"");return e?n.decodePath(s):s}var o=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,o),l=new RegExp("^"+r(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=n.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},f.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var i=this._parts.path.lastIndexOf("/"),s=this._parts.path.substring(i+1);return e?n.decodePathSegment(s):s}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(r(this.filename())+"$");return e=n.recodePath(e),this._parts.path=this._parts.path.replace(a,e),o?this.normalizePath(t):this.build(!t),this},f.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var i,s,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(i=o.substring(a+1),s=/^[a-z0-9%]+$/i.test(i)?i:"",e?n.decodePathSegment(s):s)}"."===e.charAt(0)&&(e=e.substring(1));var l,u=this.suffix();if(u)l=e?new RegExp(r(u)+"$"):new RegExp(r("."+u)+"$");else{if(!e)return this;this._parts.path+="."+n.recodePath(e)}return l&&(e=n.recodePath(e),this._parts.path=this._parts.path.replace(l,e)),this.build(!t),this},f.segment=function(e,t,i){var s=this._parts.urn?":":"/",n=this.path(),r="/"===n.substring(0,1),o=n.split(s);if(void 0!==e&&"number"!=typeof e&&(i=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(r&&o.shift(),0>e&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(a(t)){o=[];for(var l=0,u=t.length;u>l;l++)(t[l].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(t[l]))}else(t||"string"==typeof t)&&(""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t||"string"==typeof t&&t.length?o[e]=t:o.splice(e,1);return r&&o.unshift(""),this.path(o.join(s),i)},f.segmentCoded=function(e,t,i){var s,r,o;if("number"!=typeof e&&(i=t,t=e,e=void 0),void 0===t){if(s=this.segment(e,t,i),a(s))for(r=0,o=s.length;o>r;r++)s[r]=n.decode(s[r]);else s=void 0!==s?n.decode(s):void 0;return s}if(a(t))for(r=0,o=t.length;o>r;r++)t[r]=n.decode(t[r]);else t="string"==typeof t?n.encode(t):t;return this.segment(e,t,i)};var x=f.query;return f.query=function(e,t){if(e===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var i=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),s=e.call(this,i);return this._parts.query=n.buildQuery(s||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=n.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},f.setQuery=function(e,t,i){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var r in e)d.call(e,r)&&(s[r]=e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");s[e]=void 0!==t?t:null}return this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.addQuery=function(e,t,i){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(s,e,void 0===t?null:t),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.removeQuery=function(e,t,i){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(s,e,t),this._parts.query=n.buildQuery(s,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(i=t),this.build(!i),this},f.hasQuery=function(e,t,i){var s=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(s,e,t,i)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},f.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},f.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},f.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,i,s,r=this._parts.path,o="";for("/"!==r.charAt(0)&&(t=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(o=r.substring(1).match(/^(\.\.\/)+/)||"",o&&(o=o[0]));;){if(i=r.indexOf("/.."),-1===i)break;0!==i?(s=r.substring(0,i).lastIndexOf("/"),-1===s&&(s=i),r=r.substring(0,s)+r.substring(i+3)):r=r.substring(3)}return t&&this.is("relative")&&(r=o+r.substring(1)),r=n.recodePath(r),this._parts.path=r,this.build(!e),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},f.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var e=n.encode,t=n.decode;return n.encode=escape,n.decode=decodeURIComponent,this.normalize(),n.encode=e,n.decode=t,this},f.unicode=function(){var e=n.encode,t=n.decode;return n.encode=h,n.decode=unescape,this.normalize(),n.encode=e,n.decode=t,this},f.readable=function(){var t=this.clone();t.username("").password("").normalize();var i="";if(t._parts.protocol&&(i+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(i+=e.toUnicode(t._parts.hostname),t._parts.port&&(i+=":"+t._parts.port)):i+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(i+="/"),i+=t.path(!0),t._parts.query){for(var s="",r=0,o=t._parts.query.split("&"),a=o.length;a>r;r++){var l=(o[r]||"").split("=");s+="&"+n.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(s+="="+n.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}i+="?"+s.substring(1)}return i+=n.decodeQuery(t.hash(),!0)},f.absoluteTo=function(e){var t,i,s,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof n||(e=new n(e)),r._parts.protocol||(r._parts.protocol=e._parts.protocol),this._parts.hostname)return r;for(i=0;s=o[i];i++)r._parts[s]=e._parts[s];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),"/"!==r.path().charAt(0)&&(t=e.directory(),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},f.relativeTo=function(e){var t,i,s,r,o,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new n(e).normalize(),t=a._parts,i=e._parts,r=a.path(),o=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===i.protocol&&(t.protocol=null),t.username!==i.username||t.password!==i.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==i.hostname||t.port!==i.port)return a.build();if(t.hostname=null,t.port=null,r===o)return t.path="",a.build();if(s=n.commonPath(a.path(),e.path()),!s)return a.build();var l=i.path.substring(s.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(s.length),a.build()},f.equals=function(e){var t,i,s,r=this.clone(),o=new n(e),l={},u={},m={};if(r.normalize(),o.normalize(),r.toString()===o.toString())return!0;if(t=r.query(),i=o.query(),r.query(""),o.query(""),r.toString()!==o.toString())return!1;if(t.length!==i.length)return!1;l=n.parseQuery(t,this._parts.escapeQuerySpace),u=n.parseQuery(i,this._parts.escapeQuerySpace);for(s in l)if(d.call(l,s)){if(a(l[s])){if(!c(l[s],u[s]))return!1}else if(l[s]!==u[s])return!1;m[s]=!0}for(s in u)if(d.call(u,s)&&!m[s])return!1;return!0},f.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},f.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},n}),sumo.define("color",[],function(){var e={lightOrDark:function(e){var t,i,s,n;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],s=e[2],i=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,s=e>>8&255,i=255&e),n=Math.sqrt(.299*(t*t)+.587*(s*s)+.114*(i*i)),n>127.5?"light":"dark"},whiteOrBlack:function(e){return"light"==this.lightOrDark(e)?"black":"white"},shadeColor:function(e,t){e=e.toString();var i=parseInt(e.slice(1),16),s=Math.round(2.55*t),n=(i>>16)+s,r=(i>>8&255)+s,o=(255&i)+s;return"#"+(16777216+65536*(255>n?1>n?0:n:255)+256*(255>r?1>r?0:r:255)+(255>o?1>o?0:o:255)).toString(16).slice(1)},RGBColor:function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],i=0;i<t.length;i++){var s=t[i].re,n=t[i].process,r=s.exec(e);r&&(channels=n(r),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),i=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==i.length&&(i="0"+i),"#"+e+t+i}},hexToRGBA:function(e,t){var i=new this.RGBColor(e);return i.a=t||1,i.toRGBA()}};return e}),function(){var i=this,s=i._,n={},r=Array.prototype,o=Object.prototype,a=Function.prototype;try{var l=document.createElement("iframe");l.style.display="none",document.body.appendChild(l),a=l.contentWindow.Function.prototype,r=l.contentWindow.Array.prototype,o=l.contentWindow.Object.prototype,l.parentNode.removeChild(l)}catch(u){}var c=r.push,m=r.slice,h=r.concat,p=o.toString,f=o.hasOwnProperty,d=r.forEach,g=r.map,v=r.reduce,y=r.reduceRight,b=r.filter,w=r.every,_=r.some,x=r.indexOf,k=r.lastIndexOf,S=Array.isArray,C=Object.keys,T=a.bind,B=function(e){return e instanceof B?e:this instanceof B?void(this._wrapped=e):new B(e)};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=B),e._=B):i!=window&&(i._=B),B.VERSION="1.5.2";var E=B.each=B.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var s=0,r=e.length;r>s;s++)if(t.call(i,e[s],s,e)===n)return}else for(var o=B.keys(e),s=0,r=o.length;r>s;s++)if(t.call(i,e[o[s]],o[s],e)===n)return};B.map=B.collect=function(e,t,i){var s=[];return null==e?s:g&&e.map===g?e.map(t,i):(E(e,function(e,n,r){s.push(t.call(i,e,n,r))}),s)};var I="Reduce of empty array with no initial value";B.reduce=B.foldl=B.inject=function(e,t,i,s){var n=arguments.length>2;if(null==e&&(e=[]),v&&e.reduce===v)return s&&(t=B.bind(t,s)),n?e.reduce(t,i):e.reduce(t);if(E(e,function(e,r,o){n?i=t.call(s,i,e,r,o):(i=e,n=!0)}),!n)throw new TypeError(I);return i},B.reduceRight=B.foldr=function(e,t,i,s){var n=arguments.length>2;if(null==e&&(e=[]),y&&e.reduceRight===y)return s&&(t=B.bind(t,s)),n?e.reduceRight(t,i):e.reduceRight(t);var r=e.length;if(r!==+r){var o=B.keys(e);r=o.length}if(E(e,function(a,l,u){l=o?o[--r]:--r,n?i=t.call(s,i,e[l],l,u):(i=e[l],n=!0)}),!n)throw new TypeError(I);return i},B.find=B.detect=function(e,t,i){var s;return P(e,function(e,n,r){return t.call(i,e,n,r)?(s=e,!0):void 0}),s},B.filter=B.select=function(e,t,i){var s=[];return null==e?s:b&&e.filter===b?e.filter(t,i):(E(e,function(e,n,r){t.call(i,e,n,r)&&s.push(e)}),s)},B.reject=function(e,t,i){return B.filter(e,function(e,s,n){
return!t.call(i,e,s,n)},i)},B.every=B.all=function(e,t,i){t||(t=B.identity);var s=!0;return null==e?s:w&&e.every===w?e.every(t,i):(E(e,function(e,r,o){return(s=s&&t.call(i,e,r,o))?void 0:n}),!!s)};var P=B.some=B.any=function(e,t,i){t||(t=B.identity);var s=!1;return null==e?s:_&&e.some===_?e.some(t,i):(E(e,function(e,r,o){return s||(s=t.call(i,e,r,o))?n:void 0}),!!s)};B.contains=B.include=function(e,t){return null==e?!1:x&&e.indexOf===x?-1!=e.indexOf(t):P(e,function(e){return e===t})},B.invoke=function(e,t){var i=m.call(arguments,2),s=B.isFunction(t);return B.map(e,function(e){return(s?t:e[t]).apply(e,i)})},B.pluck=function(e,t){return B.map(e,function(e){return e[t]})},B.where=function(e,t,i){return B.isEmpty(t)?i?void 0:[]:B[i?"find":"filter"](e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},B.findWhere=function(e,t){return B.where(e,t,!0)},B.max=function(e,t,i){if(!t&&B.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&B.isEmpty(e))return-(1/0);var s={computed:-(1/0),value:-(1/0)};return E(e,function(e,n,r){var o=t?t.call(i,e,n,r):e;o>s.computed&&(s={value:e,computed:o})}),s.value},B.min=function(e,t,i){if(!t&&B.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&B.isEmpty(e))return 1/0;var s={computed:1/0,value:1/0};return E(e,function(e,n,r){var o=t?t.call(i,e,n,r):e;o<s.computed&&(s={value:e,computed:o})}),s.value},B.shuffle=function(e){var t,i=0,s=[];return E(e,function(e){t=B.random(i++),s[i-1]=s[t],s[t]=e}),s},B.sample=function(e,t,i){return arguments.length<2||i?e[B.random(e.length-1)]:B.shuffle(e).slice(0,Math.max(0,t))};var L=function(e){return B.isFunction(e)?e:function(t){return t[e]}};B.sortBy=function(e,t,i){var s=L(t);return B.pluck(B.map(e,function(e,t,n){return{value:e,index:t,criteria:s.call(i,e,t,n)}}).sort(function(e,t){var i=e.criteria,s=t.criteria;if(i!==s){if(i>s||void 0===i)return 1;if(s>i||void 0===s)return-1}return e.index-t.index}),"value")};var U=function(e){return function(t,i,s){var n={},r=null==i?B.identity:L(i);return E(t,function(i,o){var a=r.call(s,i,o,t);e(n,a,i)}),n}};B.groupBy=U(function(e,t,i){(B.has(e,t)?e[t]:e[t]=[]).push(i)}),B.indexBy=U(function(e,t,i){e[t]=i}),B.countBy=U(function(e,t){B.has(e,t)?e[t]++:e[t]=1}),B.sortedIndex=function(e,t,i,s){i=null==i?B.identity:L(i);for(var n=i.call(s,t),r=0,o=e.length;o>r;){var a=r+o>>>1;i.call(s,e[a])<n?r=a+1:o=a}return r},B.toArray=function(e){return e?B.isArray(e)?m.call(e):e.length===+e.length?B.map(e,B.identity):B.values(e):[]},B.size=function(e){return null==e?0:e.length===+e.length?e.length:B.keys(e).length},B.first=B.head=B.take=function(e,t,i){return null!=e?null==t||i?e[0]:m.call(e,0,t):void 0},B.initial=function(e,t,i){return m.call(e,0,e.length-(null==t||i?1:t))},B.last=function(e,t,i){return null!=e?null==t||i?e[e.length-1]:m.call(e,Math.max(e.length-t,0)):void 0},B.rest=B.tail=B.drop=function(e,t,i){return m.call(e,null==t||i?1:t)},B.compact=function(e){return B.filter(e,B.identity)};var O=function(e,t,i){return t&&B.every(e,B.isArray)?h.apply(i,e):(E(e,function(e){B.isArray(e)||B.isArguments(e)?t?c.apply(i,e):O(e,t,i):i.push(e)}),i)};B.flatten=function(e,t){return O(e,t,[])},B.without=function(e){return B.difference(e,m.call(arguments,1))},B.uniq=B.unique=function(e,t,i,s){B.isFunction(t)&&(s=i,i=t,t=!1);var n=i?B.map(e,i,s):e,r=[],o=[];return E(n,function(i,s){(t?s&&o[o.length-1]===i:B.contains(o,i))||(o.push(i),r.push(e[s]))}),r},B.union=function(){return B.uniq(B.flatten(arguments,!0))},B.intersection=function(e){var t=m.call(arguments,1);return B.filter(B.uniq(e),function(e){return B.every(t,function(t){return B.indexOf(t,e)>=0})})},B.difference=function(e){var t=h.apply(r,m.call(arguments,1));return B.filter(e,function(e){return!B.contains(t,e)})},B.zip=function(){for(var e=B.max(B.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=B.pluck(arguments,""+i);return t},B.object=function(e,t){if(null==e)return{};for(var i={},s=0,n=e.length;n>s;s++)t?i[e[s]]=t[s]:i[e[s][0]]=e[s][1];return i},B.indexOf=function(e,t,i){if(null==e)return-1;var s=0,n=e.length;if(i){if("number"!=typeof i)return s=B.sortedIndex(e,t),e[s]===t?s:-1;s=0>i?Math.max(0,n+i):i}if(x&&e.indexOf===x)return e.indexOf(t,i);for(;n>s;s++)if(e[s]===t)return s;return-1},B.lastIndexOf=function(e,t,i){if(null==e)return-1;var s=null!=i;if(k&&e.lastIndexOf===k)return s?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var n=s?i:e.length;n--;)if(e[n]===t)return n;return-1},B.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var s=Math.max(Math.ceil((t-e)/i),0),n=0,r=new Array(s);s>n;)r[n++]=e,e+=i;return r};var A=function(){};B.bind=function(e,t){var i,s;if(T&&e.bind===T)return T.apply(e,m.call(arguments,1));if(!B.isFunction(e))throw new TypeError;return i=m.call(arguments,2),s=function(){if(!(this instanceof s))return e.apply(t,i.concat(m.call(arguments)));A.prototype=e.prototype;var n=new A;A.prototype=null;var r=e.apply(n,i.concat(m.call(arguments)));return Object(r)===r?r:n}},B.partial=function(e){var t=m.call(arguments,1);return function(){return e.apply(this,t.concat(m.call(arguments)))}},B.bindAll=function(e){var t=m.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=B.bind(e[t],e)}),e},B.memoize=function(e,t){var i={};return t||(t=B.identity),function(){var s=t.apply(this,arguments);return B.has(i,s)?i[s]:i[s]=e.apply(this,arguments)}},B.delay=function(e,t){var i=m.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},B.defer=function(e){return B.delay.apply(B,[e,1].concat(m.call(arguments,1)))},B.throttle=function(e,t,i){var s,n,r,o=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:new Date,o=null,r=e.apply(s,n)};return function(){var u=new Date;a||i.leading!==!1||(a=u);var c=t-(u-a);return s=this,n=arguments,0>=c?(clearTimeout(o),o=null,a=u,r=e.apply(s,n)):o||i.trailing===!1||(o=setTimeout(l,c)),r}},B.debounce=function(e,t,i){var s,n,r,o,a;return function(){r=this,n=arguments,o=new Date;var l=function(){var u=new Date-o;t>u?s=setTimeout(l,t-u):(s=null,i||(a=e.apply(r,n)))},u=i&&!s;return s||(s=setTimeout(l,t)),u&&(a=e.apply(r,n)),a}},B.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},B.wrap=function(e,t){return function(){var i=[e];return c.apply(i,arguments),t.apply(this,i)}},B.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},B.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},B.keys=C||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)B.has(e,i)&&t.push(i);return t},B.values=function(e){for(var t=B.keys(e),i=t.length,s=new Array(i),n=0;i>n;n++)s[n]=e[t[n]];return s},B.pairs=function(e){for(var t=B.keys(e),i=t.length,s=new Array(i),n=0;i>n;n++)s[n]=[t[n],e[t[n]]];return s},B.invert=function(e){for(var t={},i=B.keys(e),s=0,n=i.length;n>s;s++)t[e[i[s]]]=i[s];return t},B.functions=B.methods=function(e){var t=[];for(var i in e)B.isFunction(e[i])&&t.push(i);return t.sort()},B.extend=function(e){return E(m.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},B.pick=function(e){var t={},i=h.apply(r,m.call(arguments,1));return E(i,function(i){i in e&&(t[i]=e[i])}),t},B.omit=function(e){var t={},i=h.apply(r,m.call(arguments,1));for(var s in e)B.contains(i,s)||(t[s]=e[s]);return t},B.defaults=function(e){return E(m.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},B.clone=function(e){return B.isObject(e)?B.isArray(e)?e.slice():B.extend({},e):e},B.tap=function(e,t){return t(e),e};var R=function(e,t,i,s){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof B&&(e=e._wrapped),t instanceof B&&(t=t._wrapped);var n=p.call(e);if(n!=p.call(t))return!1;switch(n){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=i.length;r--;)if(i[r]==e)return s[r]==t;var o=e.constructor,a=t.constructor;if(o!==a&&!(B.isFunction(o)&&o instanceof o&&B.isFunction(a)&&a instanceof a))return!1;i.push(e),s.push(t);var l=0,u=!0;if("[object Array]"==n){if(l=e.length,u=l==t.length)for(;l--&&(u=R(e[l],t[l],i,s)););}else{for(var c in e)if(B.has(e,c)&&(l++,!(u=B.has(t,c)&&R(e[c],t[c],i,s))))break;if(u){for(c in t)if(B.has(t,c)&&!l--)break;u=!l}}return i.pop(),s.pop(),u};B.isEqual=function(e,t){return R(e,t,[],[])},B.isEmpty=function(e){if(null==e)return!0;if(B.isArray(e)||B.isString(e))return 0===e.length;for(var t in e)if(B.has(e,t))return!1;return!0},B.isElement=function(e){return!(!e||1!==e.nodeType)},B.isArray=S||function(e){return"[object Array]"==p.call(e)},B.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){B["is"+e]=function(t){return p.call(t)=="[object "+e+"]"}}),B.isArguments(arguments)||(B.isArguments=function(e){return!(!e||!B.has(e,"callee"))}),"function"!=typeof/./&&(B.isFunction=function(e){return"function"==typeof e}),B.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},B.isNaN=function(e){return B.isNumber(e)&&e!=+e},B.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==p.call(e)},B.isNull=function(e){return null===e},B.isUndefined=function(e){return void 0===e},B.has=function(e,t){return f.call(e,t)},B.noConflict=function(){return i._=s,this},B.identity=function(e){return e},B.times=function(e,t,i){for(var s=Array(Math.max(0,e)),n=0;e>n;n++)s[n]=t.call(i,n);return s},B.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};j.unescape=B.invert(j.escape);var z={escape:new RegExp("["+B.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+B.keys(j.unescape).join("|")+")","g")};B.each(["escape","unescape"],function(e){B[e]=function(t){return null==t?"":(""+t).replace(z[e],function(t){return j[e][t]})}}),B.result=function(e,t){if(null!=e){var i=e[t];return B.isFunction(i)?i.call(e):i}},B.mixin=function(e){E(B.functions(e),function(t){var i=B[t]=e[t];B.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),M.call(this,i.apply(B,e))}})};var q=0;B.uniqueId=function(e){var t=++q+"";return e?e+t:t},B.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;B.template=function(e,t,i){var s;i=B.defaults({},i,B.templateSettings);var n=new RegExp([(i.escape||N).source,(i.interpolate||N).source,(i.evaluate||N).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(n,function(t,i,s,n,a){return o+=e.slice(r,a).replace(F,function(e){return"\\"+D[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),s&&(o+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),n&&(o+="';\n"+n+"\n__p+='"),r=a+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(i.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return s(t,B);var l=function(e){return s.call(this,e,B)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},B.chain=function(e){return B(e).chain()};var M=function(e){return this._chain?B(e).chain():e};B.mixin(B),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];B.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],M.call(this,i)}}),E(["concat","join","slice"],function(e){var t=r[e];B.prototype[e]=function(){return M.call(this,t.apply(this._wrapped,arguments))}}),B.extend(B.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof sumo.define&&sumo.define.amd&&sumo.define("underscore",[],function(){return B})}.call(this),sumo.define("underscore-lib",function(){}),sumo.define("underscore",["underscore-lib"],function(e){return e.noConflict()}),function(){var i;i=function(e){var t,i;return t=!1,e(function(){var s;return s=(document.body||document.documentElement).style,t=void 0!==s.animation||void 0!==s.WebkitAnimation||void 0!==s.MozAnimation||void 0!==s.MsAnimation||void 0!==s.OAnimation,e(window).bind("resize.vex",function(e){return e&&"resize"==e.type&&e.target!=window?void 0:i.resize()}),e(window).bind("keyup.vex",function(e){return 27===e.keyCode?i.closeByEscape():void 0})}),i={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{}},open:function(t){return t=e.extend({},i.defaultOptions,t),t.id=i.globalID,i.globalID+=1,t.$vex=e("<div>").addClass(i.baseClassNames.vex).addClass(t.className).css(t.css).data({vex:t}),t.openClassName?t.$vex.addClass(t.openClassName):i.setupBodyClassName(t.$vex),t.$vexOverlay=e("<div>").addClass(i.baseClassNames.overlay).addClass(t.overlayClassName).css(t.overlayCSS).data({vex:t}),t.overlayClosesOnClick&&t.$vexOverlay.bind("click.vex",function(t){return t.target===this?i.close(e(this).data().vex.id):void 0}),t.$vex.append(t.$vexOverlay),t.$vexContent=e("<div>").addClass(i.baseClassNames.content).addClass(t.contentClassName).css(t.contentCSS).append(t.content).data({vex:t}),t.$vexContent.find("link").bind("load.vex",function(e){return i.resize()}),t.$vexContent.bind("resize.vex",function(e){return i.resize()}),t.$vex.append(t.$vexContent),t.customCloseButton?t.showCloseButton&&(t.$closeButton=t.$vexContent.find("."+t.closeClassName).eq(0).data({vex:t}).bind("click.vex",function(){return i.close(e(this).data().vex.id)})):t.showCloseButton&&(t.$closeButton=e("<div>").addClass(i.baseClassNames.close).addClass(t.closeClassName).css(t.closeCSS).data({vex:t}).bind("click.vex",function(){return i.close(e(this).data().vex.id)}),t.$vexContent.append(t.$closeButton)),e(t.appendLocation).append(t.$vex),t.afterOpen&&t.afterOpen(t.$vexContent,t),setTimeout(function(){return t.$vexContent.trigger("vexOpen",t)},0),t.$vexContent},getAllVexes:function(){return e("."+i.baseClassNames.vex+':not(".'+i.baseClassNames.closing+'") .'+i.baseClassNames.content)},getVexByID:function(t){return i.getAllVexes().filter(function(){return e(this).data().vex.id===t})},close:function(e){var t;if(!e){if(t=i.getAllVexes().last(),!t.length)return!1;e=t.data().vex.id}return i.closeByID(e)},closeAll:function(){var t;return t=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(null!=t?t.length:void 0)?(e.each(t.reverse(),function(e,t){return i.closeByID(t)}),!0):!1},closeByID:function(s){var n,r,o,a,l;return r=i.getVexByID(s),r.length?(n=r.data().vex.$vex,l=e.extend({},r.data().vex),o=function(){return l.beforeClose?l.beforeClose(r,l):void 0},a=function(){return r.trigger("vexClose",l),n.remove(),l.afterClose?l.afterClose(r,l):void 0},t?(o(),n.unbind(i.animationEndEvent).bind(i.animationEndEvent,function(){return a()}).addClass(i.baseClassNames.closing)):(o(),a()),!0):void 0},resizeByID:function(t){var s,n,r;return n=i.getVexByID(t),n.length?(s=n.data().vex.$vex,r=e.extend({},n.data().vex),n.trigger("vexResize",r),!0):void 0},resize:function(){var t,s,n;return n=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(null!=n?n.length:void 0)?(s=Math.max.apply(Math,n),t=i.getVexByID(s),i.resizeByID(s)):!1},closeByEscape:function(){var t,s,n;return n=i.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(null!=n?n.length:void 0)?(s=Math.max.apply(Math,n),t=i.getVexByID(s),t.data().vex.escapeButtonCloses!==!0?!1:i.closeByID(s)):!1},setupBodyClassName:function(t){return t.bind("vexOpen.vex",function(){return e("body").addClass(i.baseClassNames.open)}).bind("vexClose.vex",function(){return i.getAllVexes().length?void 0:e("body").removeClass(i.baseClassNames.open)})},hideLoading:function(){return e(".vex-loading-spinner").remove()},showLoading:function(){return i.hideLoading(),e("body").append('<div class="vex-loading-spinner '+i.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],i):"object"==typeof e?t.exports=i(require("jquery")):window.vex=i(jQuery)}.call(this),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,s="undefined"!=typeof location&&location.href,n=s&&location.protocol&&location.protocol.replace(/\:/,""),r=s&&location.hostname,o=s&&(location.port||void 0),a=[];sumo.define("plugins/text",[],function(){var l,u,c;return"undefined"!=typeof window&&window.navigator&&window.document?u=function(e,t){var i=l.createXhr();i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),u=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(u=function(e,t){var i,s,n=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),o="";try{for(i=new java.lang.StringBuffer,(s=n.readLine())&&s.length()&&65279===s.charAt(0)&&(s=s.substring(1)),i.append(s);null!==(s=n.readLine());)i.append(r),i.append(s);o=String(i.toString())}finally{n.close()}t(o)}),l={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),s=e.match(i);s&&(e=s[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,i,s;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(i=0;3>i;i++){s=e[i];try{t=new ActiveXObject(s)}catch(n){}if(t){e=[s];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:u,parseName:function(e){var t=!1,i=e.indexOf("."),s=e.substring(0,i),e=e.substring(i+1,e.length),i=e.indexOf("!");return-1!==i&&(t=e.substring(i+1,e.length),t="strip"===t,e=e.substring(0,i)),{moduleName:s,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,s){var n,r=l.xdRegExp.exec(e);return r?(e=r[2],r=r[3],r=r.split(":"),n=r[1],r=r[0],!(e&&e!==t||r&&r!==i||(n||r)&&n!==s)):!0},finishLoad:function(e,t,i,s,n){i=t?l.strip(i):i,n.isBuild&&(a[e]=i),s(i)},load:function(e,t,i,a){if(a.isBuild&&!a.inlineText)i();else{var u=l.parseName(e),c=u.moduleName+"."+u.ext,m=t.toUrl(c),h=a&&a.text&&a.text.useXhr||l.useXhr;!s||h(m,n,r,o)?l.get(m,function(t){l.finishLoad(e,u.strip,t,i,a)}):t([c],function(e){l.finishLoad(u.moduleName+"."+u.ext,u.strip,e,i,a)})}},write:function(e,t,i){if(t in a){var s=l.jsEscape(a[t]);i.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,i,s,n){var t=l.parseName(t),r=t.moduleName+"."+t.ext,o=i.toUrl(t.moduleName+"."+t.ext)+".js";l.load(r,i,function(){var t=function(e){return s(o,e)};t.asModule=function(e,t){return s.asModule(e,o,t)},l.write(e,r,t,n)},n)}}})}(),sumo.define("plugins/text!9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/templates/share.html",[],function(){return""}),sumo.define("jquery.article",["jquery"],function(e){e.expr[":"].emptytext=e.expr.createPseudo(function(t){return function(t){return""===e.trim(e(t).text())}}),e.fn.findIncludeSelf=function(t,i){var s;return s=":has(> p + p + p)"==t?this.find("p + p + p").parent():this.find(t),e(this).is(i)?s:s.addBack(t)},e.fn.exists=function(){return 0!==this.length},e.fn.findLeaves=function(i,s){var n=e(this),r=n.findIncludeSelf(i,"body").filter(s);return r=r.filter(t),r.filter(function(){return!e(this).find(r).exists()})},e.fn.findTrunks=function(i,s){var n=e(this),r=n.findIncludeSelf(i,"body").filter(s);return r=r.filter(t),r.filter(function(){return!e(this).parents().filter(r).exists()})};var t=function(){if(this._header||(this._header=s(e(this))),this._titleText||(this._titleText=o(this)),this._header){var t=.666*e(this).outerHeight();if(t&&this._header.outerHeight()>=t)return!1}return!0},i=function(t){var i=t||e("body").find("main, [role=main]").eq(0).get(0)||"body",s=e(),n=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',r=[];r.push("article"),r.push(".post"),r.push(".entry-content"),r.push(".post-content"),r.push(".post_box"),r.push(".post-item"),r.push(".blog-post-wrapper"),r.push(".type-post"),r.push("#content"),r.push(".blog_content"),"body"!=i?(r.push(".hentry"),r.push(".content")):(r.push("main .hentry"),r.push("[role=main] .hentry"),r.push("main .content"),r.push("[role=main] .content")),r.push("#post-content"),r.push("#blog-content"),r.push(".blog-post");for(var o=[":has(> p + p + p)"],a=0;a<r.length;a++)if(s=e(i).findLeaves(r[a],n),s.length>0)return s;for(var a=0;a<o.length;a++)if(s=e(i).findTrunks(o[a],n),s.length>0)return s;var s;return s},s=function(t){var i=null,s=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],n={};try{s.forEach(function(s){if(i=e(t).find(s),i.length>0)throw n})}catch(r){if(r===n)return i.eq(0);throw r}return null},n=function(t){var i=null,s=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],n={};try{s.forEach(function(s){if(i=e(t).find(s),i.length>0)throw n})}catch(r){if(r===n)return i.eq(0).hasClass("fb-comments")&&i.eq(0).prev("h3 + p").length>0?i.eq(0).prev("h3 + p").prev("h3"):i.eq(0);throw r}return null},r=function(e){return s(e)},o=function(e){var t=null;return!e._title&&e._header&&(e._title=e._header),e._title&&(t=e._title.text().trim()),t},a=function(t){var i=null,s=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],n={};try{s.forEach(function(s){if(i=e(t).find(s).filter("[href]"),i.length>0)throw n})}catch(r){if(r===n)return i.eq(0);throw r}return null};e.articles=function(t){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var l=i(t);return l.each(function(){this._header||(this._header=s(e(this))),this._footer=n(e(this)),this._title=this._header?r(this._header):null,this._titleText||(this._titleText=o(this));var t=this._header?a(this._header):null;t?this._anchor=t:this._anchor=a(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&l.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=l,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),l},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.print-preview",["jquery"],function(e){e.fn.printPreview=function(){return e.printPreview.loadPrintPreview(),this};var t,i,s,n,r=function(){for(var e,t=3,i=document.createElement("div"),s=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",s[0];);return t>4?t:e}();e.printPreview={loadPrintPreview:function(){s=e('<div id="sumome-share-print-modal"></div>'),n=e('<div id="sumome-share-print-modal-controls"><a href="#" class="sumome-share-print-modal-controls-print" title="Print page">Print page</a><a href="#" class="sumome-share-print-modal-controls-close" title="Close print preview">Close</a>').hide();var t=e('<iframe id="sumome-share-print-modal-content" scrolling="no" border="0" frameborder="0" name="print-frame" />');s.hide().append(n).append(t).appendTo("body");var i=t[0].contentWindow.document;i.open(),i.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>'+document.title+"</title></head><body></body></html>"),i.close();var r=e("head link[media*=print], head link[media=all]").clone(),o=e("body > *:not(#sumome-share-print-modal):not(script)").clone();r.each(function(){e(this).attr("media","all")}),e("head",i).append(r),e("body",i).append(o),e("a",i).bind("click.printPreview",function(e){e.preventDefault()}),e("head").append('<style type="text/css">@media print {/* -- Print Preview --*/#sumome-share-print-modal-mask,#sumome-share-print-modal {display: none !important;}}</style>'),e.printPreview.loadMask(),e("body").css({overflowY:"hidden",height:"100%"}),e("img",i).load(function(){t.height(e("body",t.contents())[0].scrollHeight)}),starting_position=e(window).height()+e(window).scrollTop();var a={top:starting_position,height:"100%",overflowY:"auto",zIndex:1e4,display:"block"};s.css(a).animate({top:e(window).scrollTop()},400,"linear",function(){n.fadeIn("slow").focus()}),t.height(e("body",t.contents())[0].scrollHeight),e("a",n).bind("click",function(t){t.preventDefault(),e(this).hasClass("sumome-share-print-modal-controls-print")?window.print():e.printPreview.distroyPrintPreview()})},distroyPrintPreview:function(){n.fadeOut(100),s.animate({top:e(window).scrollTop()-e(window).height(),opacity:1},400,"linear",function(){s.remove(),e("body").css({overflowY:"auto",height:"auto"})}),t.fadeOut("slow",function(){t.remove()}),e(document).unbind("keydown.printPreview.mask"),t.unbind("click.printPreview.mask"),e(window).unbind("resize.printPreview.mask")},loadMask:function(){i=e.printPreview.sizeUpMask(),t=e('<div id="sumome-share-print-modal-mask" />').appendTo(e("body")),t.css({position:"absolute",top:0,left:0,width:i[0],height:i[1],display:"none",opacity:0,zIndex:9999,backgroundColor:"#000"}),t.css({display:"block"}).fadeTo("400",.75),e(window).bind("resize..printPreview.mask",function(){e.printPreview.updateMaskSize()}),t.bind("click.printPreview.mask",function(t){e.printPreview.distroyPrintPreview()}),e(document).bind("keydown.printPreview.mask",function(t){27==t.keyCode&&e.printPreview.distroyPrintPreview()})},sizeUpMask:function(){if(r){var t=e(document).height(),i=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,20>t-i?i:t]}return[e(document).width(),e(document).height()]},updateMaskSize:function(){var i=e.printPreview.sizeUpMask();t.css({width:i[0],height:i[1]})}}}),sumo.define("jquery.share",["jquery","jquery.print-preview"],function(e){e.shareServices={amazonuniversalregistry:{name:"Amazon Universal Registry",url:"https://www.amazon.com/registry/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#F7AD29",color:"#fff"},amazonuswishlist:{name:"Amazon Wishlist",url:"https://www.amazon.com/wishlist/add?t={TEXT}&u={URL}",width:1e3,height:640,background:"#FC9A18",color:"#fff"},aollifestream:{name:"AOL Lifestream",url:"http://lifestream.aol.com/share/?url={URL}&title={TEXT}&description={DESC}",width:580,height:440,background:"#8DB822",color:"#fff"},aolmail:{name:"AOL Mail",url:"https://mail.aol.com/webmail-std/en-us/composemessage?to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#262626",color:"#fff"},arto:{name:"Arto",url:"http://www.arto.com/section/linkshare/default.aspx?lu={URL}&ln={TEXT}",width:1e3,height:770,background:"#8DB822",color:"#fff"},bitly:{name:"Bitly",url:"https://bitly.com/a/bitmarklet?u={URL}",width:1160,height:500,background:"#EE6023",color:"#fff"},bloggerpost:{name:"Blogger",url:"https://www.blogger.com/blog-this.g?t&u={URL}&n={TEXT}",width:750,height:700,background:"#F79638",color:"#fff"},boxnet:{name:"Box",url:"https://www.box.com/api/1.0/import?import_as=link&url={URL}&name={TEXT}",width:500,height:500,background:"#2F88B1",color:"#fff"},buffer:{name:"Buffer",url:"http://bufferapp.com/add?text={TEXT}&url={URL}",width:890,height:532,background:"#242424",color:"#fff",fetch:"https://api.bufferapp.com/1/links/shares.json?url={URL}",parse:function(e){return parseInt(e.shares)},priority:89},delicious:{name:"Delicious",url:"http://del.icio.us/post?url={URL}&title={TEXT}&notes={DESC}",width:550,height:588,background:"#3399ff",color:"#fff",priority:85},digg:{name:"Digg",url:"http://digg.com/submit?url={URL}&title={TEXT}",width:1080,height:670,background:"#0093CC",color:"#fff",priority:86},diigo:{name:"Diigo",url:"https://www.diigo.com/post?url={URL}&title={TEXT}&description={DESC}",width:625,height:660,background:"#4DA2E4",color:"#fff"},diigolet:{name:"Diigolet",width:600,height:500,background:"#4DA2E4",color:"#fff",javascript:function(){s=document.createElement("script"),s.type="text/javascript",s.src="https://www.diigo.com/javascripts/webtoolbar/diigolet_b_h_b.js",document.body.appendChild(s)}},email:{name:"Email",url:"mailto:?subject={TEXT}&body={DESC}%20{URL}{PROMO}",width:600,height:500,background:"#aaa",color:"#fff",priority:99},evernote:{name:"Evernote",url:"http://www.evernote.com/clip.action?url={URL}&title={TEXT}",width:960,height:533,background:"#6fb536",color:"#fff",priority:85},facebook:{name:"Facebook",url:"http://www.facebook.com/sharer.php?u={URL}",width:600,height:600,background:"#3b5998",color:"#fff",fetch:"//api.facebook.com/method/links.getStats?urls={URL}&format=json",parse:function(e){return parseInt(e[0].share_count)},priority:100},facebooklike:{name:"Facebook Like",url:"https://sumome.com/apps/share/facebook-like?href={URL}",width:600,height:300,background:"#5a739d",color:"#fff",fetch:"//api.facebook.com/method/links.getStats?urls={URL}&format=json",parse:function(e){return parseInt(e[0].like_count)},priority:95},facebooksend:{name:"Facebook Send",url:"https://www.facebook.com/dialog/send?app_id=859406404089021&link={URL}&redirect_uri=https%3a%2f%2fsumome.com%2fapps%2fshare%2fthanks&display=popup",width:600,height:500,background:"#3b5998",color:"#fff"},fancy:{name:"Fancy",width:600,height:500,background:"#494E57",color:"#fff",javascript:function(){thefancy_username="";var e="thefancy_tagger_bookmarklet_helper_js",t=document.getElementById(e),i=!0;if(t){var s=window;try{s.thefancy_bookmarklet?(s.thefancy_bookmarklet.tagger.cleanListeners(),t.parentNode.removeChild(t)):i=!1}catch(n){i=!1}}i&&(_my_script=document.createElement("SCRIPT"),_my_script.type="text/javascript",_my_script.id=e,_my_script.src=location.protocol+"//fancy.com/bookmarklet/fancy_tagger.js?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_my_script))}},flipboard:{name:"Flipboard",url:"https://share.flipboard.com/bookmarklet/popout?v=2&title={TEXT}&url={URL}",width:600,height:500,background:"#CC0713",color:"#fff"},friendfeed:{name:"FriendFeed",url:"http://www.friendfeed.com/share?url={URL}&title={TEXT}",width:800,height:550,background:"#87a9d9",color:"#fff"},googlebookmarks:{name:"Google Bookmarks",url:"https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk={URL}&title={TEXT}&annotation={DESC}",
width:600,height:500,background:"#4A8CF6",color:"#fff"},googlemail:{name:"Gmail",url:"https://mail.google.com/mail/u/0/?view=cm&fs=1&to&su={TEXT}&body={URL}&ui=2&tf=1",width:600,height:500,background:"#E04C40",color:"#fff"},googleplus:{name:"Google+",url:"https://plus.google.com/share?url={URL}",width:512,height:432,background:"#dd4b39",color:"#fff",method:"googleplus",fetch:"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ",parse:function(e){return parseInt(e.result.metadata.globalCounts.count)},priority:96},hootsuite:{name:"Hootsuite",url:"https://hootsuite.com/hootlet/load?address={URL}&title={TEXT}",width:750,height:650,background:"#000",color:"#fff"},houzz:{name:"Houzz",width:600,height:500,background:"#7AC143",color:"#fff",javascript:function(){function e(e,t,i){var s=e.indexOf("?"),n=e.indexOf("#");return s==e.length-1&&(e=e.substring(0,s),s=-1),(n>0?e.substring(0,n):e)+(s>0?"&"+t+"="+i:"?"+t+"="+i)+(n>0?e.substring(n):"")}var t=document.createElement("link");t.rel="stylesheet",t.href=e("//www.houzz.com/res/2125/css/style?f=clipper","cb",Math.floor(1e6*Math.random())),document.getElementsByTagName("head")[0].appendChild(t);var i=document.createElement("script");i.type="text/javascript",i.src=e("//www.houzz.com/js/script?f=clipper&v=2125&s=101&l=en-US&d=1&m=1","cb",Math.floor(1e6*Math.random())),document.body.appendChild(i)}},instapaper:{name:"Instapaper",url:"http://www.instapaper.com/hello2?url={URL}&title={TEXT}&description={DESC}",width:475,height:200,background:"#464646",color:"#000"},kaboodle:{name:"Kaboodle",width:600,height:500,background:"#B9212A",color:"#fff",javascript:function(){var e,t=document;try{e=t.standardCreateElement("script")}catch(i){}"object"!=typeof e&&(e=t.createElement("script"));try{e.type="text/javascript",e.src="http://www.kaboodle.com/zg/g.js",e.id="c_grab_js",t.getElementsByTagName("head")[0].appendChild(e)}catch(i){window.location="http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u="+window.location}}},kik:{name:"Kik",url:"http://share-api.kik.com/share.do?url={URL}&title={TEXT}",width:600,height:550,background:"#8CC04F",color:"#fff"},lineapp:{name:"Line",url:"http://line.me/R/msg/text/?{TEXT}%20-%20{URL}",width:600,height:500,background:"#01C312",color:"#fff"},linkedin:{name:"LinkedIn",url:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TEXT}&summary={DESC}",width:615,height:495,background:"#007bb6",color:"#fff",method:"linkedin",fetch:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={URL}",parse:function(e){return parseInt(e.count)},priority:91},meneame:{name:"Menéame",url:"https://www.meneame.net/submit.php?url={URL}",width:600,height:500,background:"#FC6320",color:"#fff"},microsoftonenote:{name:"Microsoft OneNote",url:"https://www.onenote.com/clipper/save?sourceUrl={URL}&title={TEXT}&notes={DESC}",width:800,height:660,background:"#80397B",color:"#fff"},misterwong:{name:"Mister Wong",url:"http://www.mister-wong.com/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongcn:{name:"Mister Wong CN",url:"http://www.mister-wong.cn/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwonges:{name:"Mister Wong ES",url:"http://www.mister-wong.es/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongfr:{name:"Mister Wong FR",url:"http://www.mister-wong.fr/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},misterwongru:{name:"Mister Wong RU",url:"http://www.mister-wong.RU/index.php?action=addurl&bm_url={URL}&bm_description={TEXT}",width:1e3,height:560,background:"#AB0414",color:"#fff"},newsvine:{name:"Newsvine",url:"http://www.newsvine.com/_tools/seed&save?u={URL}&h={TEXT}",width:500,height:700,background:"#11660C",color:"#fff"},odnoklassniki:{name:"Odnoklassniki",url:"http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl={URL}",width:540,height:395,background:"#F38230",color:"#fff"},outlook:{name:"Outlook",url:"https://mail.live.com/secure/start?action=compose&to=&subject={TEXT}&body={URL}",width:600,height:500,background:"#1172C6",color:"#fff"},pinboardin:{name:"Pinboard",url:"https://pinboard.in/add?next=same&url={URL}&description={DESC}&title={TEXT}",width:600,height:500,background:"#214CF4",color:"#fff"},pinterest:{name:"Pinterest",url:"http://pinterest.com/pin/create/button/?url={URL}&description={TEXT}&media={IMAGE}",width:765,height:320,background:"#cb2027",color:"#fff",fetch:"//widgets.pinterest.com/v1/urls/count.json?callback=?&source=6&url={URL}",parse:function(e){return parseInt(e.count)},javascript:function(e,t,i,s,n,r,a){var l=function(i,s,n,r,a,l,u){var c={k:"PIN_"+(new Date).getTime(),me:/\/\/assets\.pinterest\.com\/js\/pinmarklet\.js/,grid:e+"/apps/share/pinterest-grid",maxWait:5e3,quality:30,xv:"data-pinterest-extension-installed",log:"https://log.pinterest.com/",hazPinningNow:"data-pinterest-pinmarklet-rendered",pattern:{instagram:{page:/^https?:\/\/(.*?\.|)instagram\.com\//,url:/^https?:\/\/(.*?\.|)instagram\.com\/p\//},amazon:{media:/^https?:\/\/(.*?\.|)images-amazon\.com\/images\//,page:/^https?:\/\/(.*?\.|)amazon\.com\//},pinterest:{page:/^https?:\/\/(.*?\.|)pinterest\.com\//},facebook:{page:/^https?:\/\/([a-zA-Z0-9]*\.|)facebook\.com\//},craigslist:{page:/^https?:\/\/(.*?\.|)craigslist\.org\//},itunes:{page:/^https?:\/\/itunes\.apple\.com\//},youtube:{iframe:/^https?:\/\/www\.youtube\.com\/embed/,media:/^https?:\/\/(.*?\.|)ytimg\.com\/(vi|li)\//,page:/^https?:\/\/(.*?\.|)youtube\.com\//},flickr:{media:/^https?:\/\/(.*?)\.staticflickr\.com\//,page:/^https?:\/\/www\.flickr\.com\//},"500px":{media:/^https?:\/\/(.*?)\.500px\.org\//},vimeo:{iframe:/^https?:\/\/player\.vimeo\.com\/video\//,media:/^https?:\/\/i\.vimeocdn\.com\/video\//,page:/^https?:\/\/vimeo\.com\//},google:{page:/^https?:\/\/www\.google\.com\/search(.*&tbm=isch.*)/},twitter:{page:/^https?:\/\/twitter\.com\//},wikipedia:{page:/^https?:\/\/(.*?\.|)wikipedia\.org\//}},validConfigParam:["debug","noCancel","noHeader","pinMethod","render","share","quiet","quality","pinbox","via","xuid","edu","guid"],validImageFileType:{gif:1,jpg:1,jpeg:1,png:1,webp:1},invalidImageFileType:{svg:1},imgLimitMin:119,imgLimitFloor:79,imgLimitHorz:3,thumbCellSize:236,thumbCellMargin:14,tag:{link:["rel","href"],meta:["name","content","property","http-equiv","content-language"],a:["data-pin-href","data-pin-id"],iframe:["src"],img:["src","title","alt","naturalHeight","naturalWidth","nopin","data-pin-nopin","data-pin-id","data-pin-media","data-pin-url","data-pin-description","usemap"]},cdn:{"https:":"https://s-passets.pinimg.com","http:":"http://passets.pinterest.com"},msg:t,hashList:[/efa3a2deb839/,/20c46b653b00/,/9e2089d8b8f2/,/820a6e7baa0f/,/293aa4f9b3d0/,/1529ad2b2cc8/,/8de5d416e5d2/,/8c2d5961f7af/,/540b2374abf1/,/415215dcadbf/,/dbafdf055617/,/871de03c9980/,/85ae87da6618/,/1d1d5ffa1d50/,/1847807c0ea1/,/08fb2eb6424d/,/a32353817e45/,/71c1f4783e6d/,/79f57d83d54a/,/eefa602a72ed/,/32aa39d04eb4/,/25f7c9982cea/]},m=window[c.k]={w:window,d:document,a:c,s:{},f:function(){return{callback:[],sha:function(e){function t(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<24-i%32;return t}function i(e){for(var t="",i=0;i<32*e.length;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}function s(e,t){var i=(65535&e)+(65535&t),s=(e>>16)+(t>>16)+(i>>16);return s<<16|65535&i}function n(e,t){return e<<t|e>>>32-t}function r(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var i=Array(80),r=1732584193,l=-271733879,u=-1732584194,c=271733878,m=-1009589776,h=0;h<e.length;h+=16){for(var p=r,f=l,d=u,g=c,v=m,y=0;80>y;y++){16>y?i[y]=e[h+y]:i[y]=n(i[y-3]^i[y-8]^i[y-14]^i[y-16],1);var b=s(s(n(r,5),o(y,l,u,c)),s(s(m,i[y]),a(y)));m=c,c=u,u=n(l,30),l=r,r=b}r=s(r,p),l=s(l,f),u=s(u,d),c=s(c,g),m=s(m,v)}return Array(r,l,u,c,m)}function o(e,t,i,s){return 20>e?t&i|~t&s:40>e?t^i^s:60>e?t&i|t&s|i&s:t^i^s}function a(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function l(e){return i(r(t(e),8*e.length))}function u(e){for(var t,i="0123456789abcdef",s="",n=0;n<e.length;n++)t=e.charCodeAt(n),s=s+i.charAt(t>>>4&15)+i.charAt(15&t);return s}return u(l(e))},get:function(e,t){var i=null;return i="undefined"!=typeof e[t]?e[t]:e.getAttribute(t)},set:function(e,t,i){"string"==typeof e[t]?e[t]=i:e.setAttribute(t,i)},getEl:function(e){var t=null;return t=e.target?3===e.target.nodeType?e.target.parentNode:e.target:e.srcElement},parse:function(e,t){var i,s,n,r,o,a;if(a={},i=e.split("#")[0].split("?"),i[1])for(s=i[1].split("&"),r=0,o=s.length;o>r;r+=1)n=s[r].split("="),2===n.length&&t[n[0]]&&(a[n[0]]=n[1]);return a},make:function(e){var t,i,s,n=!1;for(t in e)if(e[t].hasOwnProperty){n=m.d.createElement(t);for(i in e[t])if(e[t][i]&&e[t][i].hasOwnProperty)if("string"==typeof e[t][i])m.f.set(n,i,e[t][i]);else if("style"===i)for(s in e[t][i])n.style.setProperty?n.style.setProperty(s,e[t][i][s],"important"):n.style[s]=e[t][i][s];break}return n},kill:function(e){"string"==typeof e&&(e=m.d.getElementById(e)),e&&e.parentNode&&e.parentNode.removeChild(e)},call:function(e,t){var i,s,n="?";m.v.nextCallback||(m.v.nextCallback=0),i=m.v.nextCallback,m.v.nextCallback=m.v.nextCallback+1,s=m.a.k+".f.callback["+i+"]",m.f.callback[i]=function(e){t(e,i),m.f.kill(s),m.v.callbackLoadingCount=m.v.callbackLoadingCount-1},e.match(/\?/)&&(n="&"),m.d.b.appendChild(m.f.make({SCRIPT:{id:s,type:"text/javascript",charset:"utf-8",src:e+n+"callback="+s}})),void(m.v.callbackLoadingCount=m.v.callbackLoadingCount+1)},listen:function(e,t,i,s){"undefined"!=typeof m.w.sumomeSharePinterestEvent&&("undefined"!=typeof e.removeEventListener&&e.removeEventListener(t,m.w.sumomeSharePinterestEvent,!1),"undefined"!=typeof e.detachEvent&&e.detachEvent("on"+t,m.w.sumomeSharePinterestEvent)),s?"undefined"!=typeof e.removeEventListener?e.removeEventListener(t,i,!1):"undefined"!=typeof e.detachEvent&&e.detachEvent("on"+t,i):"undefined"!=typeof m.w.addEventListener?e.addEventListener(t,i,!1):"undefined"!=typeof m.w.attachEvent&&e.attachEvent("on"+t,i),m.w.sumomeSharePinterestEvent=i},debug:function(e){},getConfig:function(){var e=m.d.getElementsByTagName("SCRIPT"),t=e.length,i=0,s=0,n=m.a.validConfigParam.length,r=null,o="",a=function(e){m.w.setTimeout(function(){m.f.kill(e)},10)};for(i=0;t>i;i+=1)if(e[i].src.match(m.a.me)){for(s=0;n>s;s+=1)o=m.a.validConfigParam[s],r=e[i].getAttribute(o),r&&(m.v.config[o]=r);a(e[i]);break}},getSelection:function(){return(""+(m.w.getSelection?m.w.getSelection():m.d.getSelection?m.d.getSelection():m.d.selection.createRange().text)).replace(/(^\s+|\s+$)/g,"")},getDim:function(e){var t,i;return t=0,i=0,"number"==typeof e.naturalHeight?t=e.naturalHeight:"number"==typeof e.height&&(t=e.height),"number"==typeof e.naturalWidth?i=e.naturalWidth:"number"==typeof e.width&&(i=e.width),{h:t,w:i}},check:{fileType:function(e){var t,i;return t=!0,e.src&&(i=e.src.split("#")[0].split("?")[0].split(".").pop(),m.a.invalidImageFileType[i]&&void(t=!1)),t},visibility:function(e){var t,i,s;for(i=e.parentNode,t=!0;i&&"HTML"!==i.tagName;){if(i.currentStyle?("none"===i.currentStyle.display||"hidden"===i.currentStyle.visibility)&&(t=!1):m.w.getComputedStyle&&("none"===m.w.getComputedStyle(e).getPropertyValue("display")||"hidden"===m.w.getComputedStyle(e).getPropertyValue("visibility"))&&(t=!1),t===!1){s=e.src+": is invisible";break}i=i.parentNode}return t},noPin:function(e){var t,i;return t=!0,m.f.get(e,"data-pin-nopin")&&(t=!1,i=e.src+": data-pin-nopin=true"),m.f.get(e,"nopin")&&(t=!1,void(i=e.src+": nopin=nopin")),t},size:function(e){var t,i,s;return t=!1,s=m.f.getDim(e),s.h>m.a.imgLimitFloor&&s.w>m.a.imgLimitFloor?s.h>m.a.imgLimitMin||s.w>m.a.imgLimitMin?s.w<s.h*m.a.imgLimitHorz?t=!0:i=e.src+" too wide":i=e.src+" one dimension <= "+m.a.imgLimitMin:i=e.src+" one dimension <= "+m.a.imgLimitFloor,t},dupe:function(e){var t=e;"object"==typeof e&&(t=e.src);var i=!0;return m.v.src[t]?i=!1:m.v.src[t]=!0,i},source:function(e,t){var i,s,n;return i=!1,n="string"==typeof e?e:e.src||e.href,n&&n.match(/^http/)&&(n.match(/File:/)||(t?(s=n.split("#")[0].split("?")[0].split(".").pop(),m.a.validImageFileType[s]&&(i=!0)):i=!0)),i},domain:function(e){var t,i,s,n,r;if(r=e,"object"==typeof e&&(r=e.src),n=r.split("/")[2],s=!0,"undefined"==typeof m.v.srcDomain[n]){for(var i=m.f.sha(n),t=0,o=m.a.hashList.length;o>t;t+=1)if(i.match(m.a.hashList[t])){s=!1;break}m.v.srcDomain[n]={bad:s}}else s=m.v.srcDomain[n].bad;return s}},tag:{img:function(e){var t,i;t=!0;for(i in m.f.check)if(!m.f.check[i](e)){t=!1;break}return t},iframe:function(e){var t,i;if(e.src.match(m.a.pattern.instagram.url)&&(i=e.src.split("embed"),i[1]&&(t="https://api.instagram.com/oembed?url="+encodeURIComponent(i[0]),m.f.call(t,m.f.handlers.instagram))),e.src.match(m.a.pattern.youtube.iframe)){var i=e.src.split("#")[0].split("?")[0].split("/")[4];i&&(t={media:"http://i.ytimg.com/vi/"+i+"/hqdefault.jpg",set:{description:m.d.title,url:"http://www.youtube.com/watch?v="+i,isVideo:!0,attrib:"youtube"}},m.f.loadImg(t))}e.src.match(m.a.pattern.vimeo.iframe)&&(i=function(e){e.thumbnail_url&&(t={media:e.thumbnail_url.split("_")[0]+".jpg",set:{url:"https://vimeo.com/"+e.video_id,description:e.title,isVideo:!0,attrib:"vimeo"}},m.f.loadImg(t))},t="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(e.src),m.f.call(t,i))},a:function(e){var t,i,s,n;i=m.f.get(e,"data-pin-href"),i&&(s=m.f.parse(i,{url:!0,media:!0,description:!0}),s.media&&(t={media:decodeURIComponent(s.media),set:{pinItButton:!0,url:decodeURIComponent(s.url)||void 0,description:decodeURIComponent(s.description)||void 0}},n=m.f.get(e,"data-pin-id"),n&&(t.set.dataPinId=n),m.f.loadImg(t),m.v.hazLoggedPinItButton||void(m.v.hazLoggedPinItButton=!0)))},link:function(e){var t,i;t=e.rel,i=e.href,t&&i&&(t=t.toLowerCase(),"canonical"===t&&(m.v.canonicalUrl||(m.v.canonicalUrl=i)),("icon"===t||"shortcut-icon"===t||"apple-touch-icon"===t)&&void(m.v.config.favicon=i))},meta:function(e){var t,i,s,n,r,o;t=m.f.get(e,"content"),i=m.f.get(e,"description"),s=m.f.get(e,"property"),r=m.f.get(e,"http-equiv"),o=m.f.get(e,"content-language"),n=m.f.get(e,"name"),r&&o&&m.f.setLang(o),t&&(n&&"pinterest"===n&&("nopin"===t.toLowerCase()&&void(m.v.data.close=i||m.v.msg.noPinMeta),"nohover"===t.toLowerCase()&&void(m.v.noHoverMeta=!0),"pinterest-rich-pin"===n&&"false"===t.toLowerCase()&&void 0),s&&("og:image"===s&&void(m.v.meta.og.media=t),"og:url"===s&&void(m.v.meta.og.url=t),"og:description"===s&&void(m.v.meta.og.description=t),"og:title"===s&&void(m.v.meta.og.title=t),"pin:media"===s&&void(m.v.meta.pinterest.media=t),"pin:url"===s&&void(m.v.meta.pinterest.url=t),"pin:description"===s&&void(m.v.meta.pinterest.description=t),"pin:id"===s&&void(m.v.meta.pinterest.id=t)))}},loadImg:function(e){var t,i;m.v.imgLoadingCount=m.v.imgLoadingCount+1,t=m.d.createElement("IMG"),t.onerror=function(){m.w.clearTimeout(i),m.v.imgLoadingCount=m.v.imgLoadingCount-1},t.onload=function(){var t,s,n,r,o,a;if(m.w.clearTimeout(i),n={},m.v.imgLoadingCount=m.v.imgLoadingCount-1,n.loaded=!0,a=m.f.getDim(this),n.height=a.h,n.width=a.w,n.media=this.src,e.set)if("string"==typeof e.set)n[e.set]=!0,m.v.hazSet[e.set]=!0;else for(t in e.set)n[t]=e.set[t],m.v.hazSet[t]=!0;for(e.url&&m.v.canonicalUrl&&(e.url!==m.v.canonicalUrl?(r=m.v.canonicalUrl.split("/")[2],o=e.url.split("/")[2],r===o?(n.url=e.url,n.linkOffPage=!0):(n.url=e.url,n.via=m.v.canonicalUrl,n.linkOffDomain=!0)):n.isVideo&&(n.isCanonical=!0),m.f.kill(this)),e.description&&(n.description=e.description),m.v.found.unshift(n),t=1,s=m.v.found.length;s>t;t+=1)if(m.v.found[t].media===this.src){n.metaOg?(n.description&&(m.v.found[t].description=n.description),n.url&&(m.v.found[t].url=n.url),m.v.found[t].isCanonical=!0,m.v.found.shift()):m.v.found.splice(t,1);break}},i=m.w.setTimeout(function(){t=null,m.v.imgLoadingCount=m.v.imgLoadingCount-1},m.a.maxWait),t.src=e.media},handlers:{instagram:function(e){e&&e.thumbnail_url&&e.title&&e.html&&(o={media:e.thumbnail_url,set:{url:e.html.split('<a href="')[1].split('"')[0],description:e.title}},m.f.loadImg(o))}},srcSet:function(e){var t,i,s,n,r=m.f.get(e,"srcset"),o="",a=0;if(r&&(t=r.split(","),t.length)){for(i=0;i<t.length;i+=1)n=t[i].replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," ").split(" "),n[1]&&(n[1]=n[1].replace(/[^0-9.]/g,"")-0,a<n[1]&&(a=n[1],o=n[0]));o&&(s=o.split("#")[0].split("?")[0].split(".").pop(),m.a.validImageFileType[s]&&!e.getAttribute("data-pin-media")&&e.setAttribute("data-pin-media",o))}},modifiers:{page:[function(){var e,t,i,n=s||m.d.URL;n.match(m.a.pattern.vimeo.page)&&(t=m.d.getElementsByTagName("VIDEO")[0],t&&(i=t.parentNode.parentNode.getAttribute("data-thumb"),i&&(e={media:i,set:{sourceBump:!0,url:n,description:m.d.title}},m.f.loadImg(e))))},function(){var e,t,i,n,r=s||m.d.URL;if(r.match(m.a.pattern.instagram.page))if(r.match(m.a.pattern.instagram.url))n="https://api.instagram.com/oembed?url="+encodeURIComponent(r),m.f.call(n,m.f.handlers.instagram);else for(e=m.d.getElementsByTagName("A"),t=0,i=e.length;i>t;t+=1)e[t].href&&e[t].href.match(m.a.pattern.instagram.url)&&(n="https://api.instagram.com/oembed?url="+encodeURIComponent(e[t].href.split("#")[0].split("?")[0]),m.f.call(n,m.f.handlers.instagram))},function(){var e,t,i,n,r,o,a,l=s||m.d.URL;if(l.match(m.a.pattern.amazon.page)){var t=m.d.getElementsByTagName("A");for(i=0,n=t.length;n>i;i+=1)if(t[i].href&&t[i].href.match("pinterest.com%2Fpin%2Fcreate%2Fbutton%3F")){if(e=t[i].href.split("&token=")[0].split("pinterest.com%2Fpin%2Fcreate%2Fbutton%3F"),e[1])try{r=decodeURIComponent(e[1]),r&&(a=m.f.parse("?"+r,{url:!0,media:!0,description:!0}),a.media&&a.url&&a.description&&(a.url=a.url.split("ref%3D")[0],a.description=a.description.split("http")[0],o={media:decodeURIComponent(a.media),set:{sourceBump:!0,url:decodeURIComponent(a.url),description:decodeURIComponent(a.description)}},m.f.loadImg(o)))}catch(u){}break}}},function(){var e,t,i,n,r,o,a,l,u,c=s||m.d.URL;if(u=function(e){var t={};t.media="https://i.ytimg.com/vi/"+e.id+"/hqdefault.jpg",t.url="http://www.youtube.com/watch?v="+e.id,t.set={isVideo:!0,attrib:"youtube",url:t.url,description:m.d.title},e.sourceBump&&(t.set.sourceBump=!0),e.sourceOrder&&(t.set.sourceOrder=e.sourceOrder),m.f.loadImg(t)},c.match(m.a.pattern.youtube.page))for(t=c.split("#")[0].split("?v="),t[1]&&u({id:t[1].split("&")[0],sourceBump:!0}),t=m.d.getElementsByClassName("_mfw"),i=0,n=t.length;n>i;i+=1)if(r=t[i].currentStyle||m.w.getComputedStyle(t[i],!1),r&&r.backgroundImage&&"none"!==r.backgroundImage&&(e=r.backgroundImage.split("&")[0].split("="),e[1])){for(o=e[1].split(","),a=o.length-1,l=-1;a>l;a-=1)u({id:o[a],sourceOrder:a});break}},function(){var e,t,i,n,r,o,a,l,u,c,h=s||m.d.URL;if(h.match(m.a.pattern.google.page)&&(m.v.doNotSort=!0,e=m.d.getElementById("ires")))for(t=e.getElementsByTagName("A"),i=0,n=t.length;n>i;i+=1)if(a="",media="",t[i].href&&(o=t[i].href.split("imgrefurl="),o[1]&&(a=o[1].split("&")[0]),o=t[i].href.split("imgurl="),o[1]&&(media=o[1].split("&")[0])),a&&media&&(r=t[i].getElementsByTagName("IMG"),r[0]&&(m.f.set(r[0],"data-pin-url",decodeURIComponent(a)),m.f.set(r[0],"data-pin-media",decodeURIComponent(media)))),l=t[i].parentNode.getElementsByTagName("DIV"),l[2]&&(u=l[2].textContent))try{c=JSON.parse(u),"object"==typeof c&&(c.s||c.pt)&&m.f.set(r[0],"data-pin-description",c.s||c.pt)}catch(p){}},function(){var e=s||m.d.URL;e.match(m.a.pattern.pinterest.page)&&window.isMainPinterestSite===!0&&(m.v.data.close=m.v.msg.noPinningFromPinterest)},function(){var e=s||m.d.URL;e.match(m.a.pattern.facebook.page)&&(m.v.data.close=m.v.msg.noPinDomain.replace(/%noPinDomain%/,"Facebook"))},function(){var e=s||m.d.URL;e.match(m.a.pattern.craigslist.page)&&(m.v.data.close=m.v.msg.noPinDomain.replace(/%noPinDomain%/,"Craigslist"))}],img:[function(e,t){var i=s||m.d.URL;if(i.match(m.a.pattern.itunes.page)){e.description=m.d.title.split(" on the App Store")[0];var n=m.d.getElementById("title");if(n){var r=n.getElementsByTagName("H1"),o=n.getElementsByTagName("H2");if(r[0]&&o[0]){var a=r[0].innerHTML,l=o[0].innerHTML;a&&l&&(l=l.charAt(0).toLowerCase()+l.substr(1),e.description=a+" "+l)}}}},function(e,t){var i,n,r=s||m.d.URL;r.match(m.a.pattern.twitter.page)&&(i=t.parentNode.parentNode,i&&"A"===i.tagName&&m.f.get(i,"data-resolved-url-large")&&(e.media=m.f.get(i,"data-resolved-url-large"),e.url=i.href,n=i.parentNode.parentNode.parentNode.getElementsByClassName("tweet-text")[0],n&&"P"===n.tagName&&(e.description=n.innerText)))},function(e,t){var i;return i=!1,e.media.match(m.a.pattern.flickr.media)&&(e.getsAttribution=!0,e.attrib="flickr",e.url=m.v.canonicalUrl,i=!0),i},function(e,t){var i,s,n;return i=!1,e.media.match(m.a.pattern["500px"].media)&&(e.getsAttribution=!0,s=e.media.split("#")[0].split("?")[0].split("/"),n=s.pop(),n.match(/.jpg/)&&(e.media=s.join("/")+"/2048.jpg",e.set={getsAttribution:!0,attrib:"fivehundredpx",url:m.v.canonicalUrl},m.f.loadImg(e),i=!0)),i},function(e,t){var i,s;return i=!1,e.media.match(m.a.pattern.youtube.media)&&(s=e.media.split("/")[4],e.media="https://i.ytimg.com/vi/"+s+"/hqdefault.jpg",e.url=m.v.canonicalUrl,e.url.match(m.a.pattern.youtube.page)&&(e.url="https://www.youtube.com/watch?v="+s),e.set={isVideo:!0,attrib:"youtube",url:e.url},m.f.loadImg(e),i=!0),i},function(e,t){var i,s;return i=!1,e.url||(e.url=m.v.canonicalUrl),s=e["data-pin-url"],s&&(delete e["data-pin-url"],e.dataPinUrl=s,e.url=s),s=e["data-pin-id"],s&&(delete e["data-pin-id"],e.dataPinId=s),s=e["data-pin-description"],s&&(delete e["data-pin-description"],e.dataPinDescription=s),s=e["data-pin-media"],s&&(delete e["data-pin-media"],m.f.check.source(s)&&(e.media=s,e.set={dataPinMedia:!0,url:e.url},e.dataPinUrl&&(e.set.dataPinUrl=e.dataPinUrl),e.dataPinDescription&&(e.set.dataPinDescription=e.dataPinDescription),e.dataPinId&&(e.set.dataPinId=e.dataPinId),m.f.loadImg(e),i=!0)),i},function(e,t){var i,n,r=s||m.d.URL;return i=!1,n=t.parentNode,"A"===n.tagName&&n.href&&m.f.check.source(n,!0)&&!r.match(m.a.pattern.wikipedia.page)&&(e.url||(e.url=m.v.canonicalUrl),e.media=n.href,e.set={linkedImg:!0,url:e.url},m.f.loadImg(e),i=!0),i}],meta:[function(){var e,t;return e=!1,m.v.meta.pinterest&&m.v.meta.pinterest.media&&m.f.check.source(m.v.meta.pinterest.media)&&(t={media:m.v.meta.pinterest.media,set:{metaPinterest:!0,url:m.v.meta.pinterest.url||m.v.canonicalUrl,description:m.v.meta.pinterest.description||m.d.title||void 0}},m.v.meta.pinterest.id&&(t.set.dataPinId=m.v.meta.pinterest.id),m.f.loadImg(t),void(e=!0)),e},function(){var e,t;return m.v.meta.og&&m.v.meta.og.media&&m.f.check.source(m.v.meta.og.media)&&(t={media:m.v.meta.og.media,set:{metaOg:!0,url:m.v.meta.og.url||m.v.canonicalUrl,description:m.v.meta.og.description||m.v.meta.og.title||m.d.title||void 0}},m.f.loadImg(t),void(e=!0)),e=!1}]},runMods:function(e,t,i){if(m.f.modifiers[e])for(var s=0;s<m.f.modifiers[e].length&&!m.f.modifiers[e][s](t,i);s+=1);},getTags:function(){var e,t,i,s,n,r,o,a,l,u;for(e in m.a.tag)if(t=m.d.getElementsByTagName(e),i=t.length)for(s=m.a.tag[e],n=0;i>n;n+=1){for("img"===e&&m.f.srcSet(t[n]),r=null,o=0;o<s.length;o+=1)a=m.f.get(t[n],s[o]),a&&(r||(r={}),r[s[o]]=a);r&&"function"==typeof m.f.tag[e]&&m.f.tag[e](t[n])&&"img"===e&&(r.sourceOrder=m.v.sourceOrder,m.v.sourceOrder=m.v.sourceOrder+1,r.src&&(r.media=r.src,delete r.src),m.f.runMods(e,r,t[n]),r.description||(l=r.media.split("/").pop(),u=l.split(".")[0],(r.title===l||r.title===u)&&(r.title=null),(r.alt===l||r.alt===u)&&(r.alt=null),r.description=r.title||r.alt||m.v.meta.pinterest.description||m.v.meta.og.description||m.v.meta.og.title||m.d.title||void 0),m.v.found.push(r))}},arrange:function(){var e,t,i,s,n,r;for(e=0,t=m.v.found.length;t>e;e+=1)r=0,i=m.v.found[e],i.dataPinDescription&&(i.description=i.dataPinDescription),i.description=i.description.substring(0,497),497===i.description.length&&(i.description=i.description+"..."),"number"==typeof i.naturalHeight&&i.naturalHeight&&(i.height=i.naturalHeight,delete i.naturalHeight),"number"==typeof i.naturalWidth&&i.naturalWidth&&(i.width=i.naturalWidth,delete i.naturalWidth),s=parseInt(i.height),n=parseInt(i.width),n>s&&(n=s),s>3*n&&(s=3*n),r=s*n,i.isCanonical&&(r=3*r),(i.dataPinId||i.pinItButton||i.dataPinMedia||i.dataPinUrl||i.metaPinterest)&&(r=3*r),i.isVideo&&(r=3*r),i.sourceBump&&(r=3*r),n<m.a.thumbCellSize&&(r/=2,m.v.hazSet.sourceBump&&(r/=10)),i.metaOg&&t>1&&n<m.a.thumbCellSize&&(r/=100),i.usemap&&(r/=100),i.sourceOrder&&(r-=100*i.sourceOrder),i.order=r;if(m.v.found.length&&!m.v.doNotSort){var o=function(e,t){return t.order-e.order};for(m.v.found.sort(o),r=m.v.found[0].order,e=1,t=m.v.found.length;t>e;e+=1)if(m.v.found[e].order<r/m.v.config.quality){m.v.found[e].halt=!0;break}}},log:function(e){},done:function(){var e,t;if(m.v.data.close)m.v.config.quiet||m.w.alert(m.v.data.close);else{for(m.f.arrange(),m.v.data.thumb=m.v.found,e=0,t=m.v.data.thumb.length;t>e;e+=1)m.v.data.thumb[e].src=m.v.data.thumb[e].media,m.v.data.thumb[e].isVideo&&(m.v.data.thumb[e].multimedia=!0);if(m.v.config.share)return m.d.b.setAttribute(m.v.config.share,JSON.stringify(m.v.data)),void(m.v.data.thumb.length||m.v.config.quiet||m.w.alert(m.v.msg.noPinnablesFound));if(m.w[m.v.config.render]&&"function"==typeof m.w[m.v.config.render])return void m.w[m.v.config.render](m.v.data);m.v.defaultBodyOverflow="","function"==typeof m.w.getComputedStyle&&"function"===m.w.getComputedStyle(m.d.b).getPropertyValue&&(m.v.defaultBodyOverflow=m.w.getComputedStyle(m.d.b).getPropertyValue("overflow")),"visible"===m.v.defaultBodyOverflow&&(m.v.defaultBodyOverflow=""),m.d.b.style.overflow="hidden",m.v.data.config=m.v.config,m.v.data.hazExtension=!0;var s=JSON.stringify(m.v.data);m.s.dark=m.f.make({IFRAME:{id:m.a.k+"_grid",src:m.a.grid,frameBorder:"0",style:{display:"block",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",bottom:"0",right:"0",margin:"0",clip:"auto","z-index":"9223372036854775807"}}});var n=function(){m.d.b.style.overflow=m.v.defaultBodyOverflow,m.d.b.removeAttribute(m.a.hazPinningNow),m.f.kill(m.s.dark)},r=(new Date).getTime();m.s.dark.onload=function(){(new Date).getTime()-r;m.v.receiver=m.s.dark.contentWindow,m.v.receiver.postMessage(s,m.s.dark.src),m.f.listen(m.w,"message",function(e){m.w.clearTimeout(m.v.renderFailed),"x"===e.data&&n();try{var t=JSON.parse(e.data);if("object"==typeof t&&"undefined"!=typeof t.type&&"undefined"!=typeof t.url&&"undefined"!=typeof t.name&&"undefined"!=typeof t.specs&&"sumomeShareCallback"==t.type){var s=m.w.open(t.url,t.name,t.specs);if(i)var r=0,o="object"!=typeof s||null===s,a=setInterval(function(){(o||s.closed||r++>120)&&(o&&alert("Please disable your popup blocker"),clearInterval(a),i())},500)}}catch(l){}}),this.focus()},m.f.set(m.d.b,m.a.hazPinningNow,"true"),m.d.b.appendChild(m.s.dark),m.v.renderFailed=m.w.setTimeout(function(){m.w.alert(m.v.msg.noPinnablesFound),n()},m.a.maxWait)}},setLang:function(e){e&&("object"==typeof m.a.msg[e]?(m.v.msg=m.a.msg[e],m.v.data.msg=m.v.msg):(e=e.split("-")[0],"object"==typeof m.a.msg[e]?(m.v.msg=m.a.msg[e],m.v.data.msg=m.v.msg):(m.v.msg=m.a.msg.en,m.v.data.msg=m.v.msg)))},getLang:function(){var e;e=m.d.getElementsByTagName("HTML")[0].getAttribute("lang")||"en",e&&(e=e.toLowerCase(),m.f.setLang(e))},init:function(){var e,t=s||m.d.URL;m.d.b=m.d.getElementsByTagName("BODY")[0],m.d.b&&(m.w.getComputedStyle||(m.w.getComputedStyle=function(){return!1}),m.f.get(m.d.b,m.a.hazPinningNow)||(m.d.d=m.d.documentElement,m.d.h=m.d.getElementsByTagName("HEAD")[0],m.v={sourceOrder:0,canonicalUrl:t,src:{},config:{pinMethod:"bookmarklet",quality:m.a.quality,favicon:m.w.location.protocol+"//"+t.split("/")[2]+"/favicon.ico",xv:m.d.b.getAttribute(m.a.xv)},hazSet:{},meta:{og:{},pinterest:{}},imgLoadingCount:0,callbackLoadingCount:0,srcDomain:{},extensionVer:m.f.get(m.d.b,"data-pinterest-extension-installed")||void 0,msg:m.a.msg.en,css:"",data:{blacklistedSource:{},thumb:[]},found:[]},m.f.getLang(),m.f.getConfig(),m.v.data.url=t,m.v.config.pinbox&&(m.v.data.pinbox=m.v.config.pinbox),m.f.check.domain(t)?(m.f.runMods("page"),m.f.getTags(),m.f.runMods("meta"),m.v.safety=m.w.setTimeout(function(){m.v.check&&m.w.clearTimeout(m.v.check),m.f.done()},m.a.maxWait),(e=function(){m.v.imgLoadingCount>0||m.v.callbackLoadingCount>0?m.v.check=m.w.setTimeout(e,100):(m.v.safety&&m.w.clearTimeout(m.v.safety),m.f.done())})()):(m.v.data.close=m.v.msg.noPinDomain,m.f.done())))}}}()};m.f.init()};l(a,i,null,null,!0)},priority:97},plurk:{name:"Plurk",url:"http://www.plurk.com/m?content={URL}&qualifier=shares",width:600,height:500,background:"#CF682E",color:"#fff"},pocket:{name:"Pocket",url:"https://getpocket.com/save?url={URL}&title={TEXT}",width:520,height:315,background:"#EE4056",color:"#fff"},printfriendly:{name:"PrintFriendly.com",background:"#9ec36e",foreground:"#fff",javascript:function(){if(window.priFri)window.print();else{var e="";pfstyle="nbk",pfBkVersion="1",e=window.location.href.match(/https/)?"https://pf-cdn.printfriendly.com/ssl/main.js":"http://cdn.printfriendly.com/printfriendly.js",_pnicer_script=document.createElement("SCRIPT"),_pnicer_script.type="text/javascript",_pnicer_script.src=e+"?x="+Math.random(),document.getElementsByTagName("head")[0].appendChild(_pnicer_script)}}},printerfriendly:{name:"Printer Friendly",background:"#999",foreground:"#fff",javascript:function(){e(document).printPreview()}},reddit:{name:"Reddit",url:"http://reddit.com/submit?url={URL}&title={TEXT}",width:860,height:500,background:"#ff5700",color:"#fff",method:"json",fetch:"//buttons.reddit.com/button_info.json?url={URL}",parse:function(e){return"data"in e&&"children"in e.data&&e.data.children.length>0?parseInt(e.data.children[0].data.score):0},priority:92},slashdot:{name:"Slashdot",width:600,height:500,background:"#1A5C59",color:"#fff",javascript:function(){var e=document.body;e&&!document.xmlVersion&&(void(z=document.createElement("script")),void(z.src="https://images.slashdot.org/slashdot-submission.ssl.js"),void e.appendChild(z))}},sms:{name:"SMS",url:"sms:?body={TEXT}%0A%0D{URL}",width:600,height:500,background:"#0076ff",color:"#fff",priority:93},soupio:{name:"Soup",url:"",width:450,height:400,background:"#C80813",color:"#fff",javascript:function(){var e=["body","frameset","head"],t=document.location.protocol+"//www.soup.io/",i="soup_bookmarklet_"+Math.floor(1e5*Math.random());window.open(t+"bookmarklet-loading.html",i,"toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=400");try{var s=document.createElement("script");s.setAttribute("src",t+"bookmarklet/js/"+i+"/5");for(var n=0;n<e.length;n){var r=document.getElementsByTagName(e[n])[0];if(r){r.appendChild(s);break}}}catch(r){}}},stumbleupon:{name:"StumbleUpon",url:"http://www.stumbleupon.com/submit?url={URL}&title={TEXT}",width:480,height:412,background:"#eb4823",color:"#fff",priority:90,method:"jsonproxy",fetch:"//www.stumbleupon.com/services/1.01/badge.getinfo?url={URL}",parse:function(e){return e&&"undefined"!=typeof e.result&&"undefined"!=typeof e.result.views?parseInt(e.result.views):0}},sumome:{name:"SumoMe",url:"",width:600,height:500,background:"#0f52ba",color:"#fff"},tapiture:{name:"Tapiture",url:"http://tapiture.com/widget/tap?url={IMAGE}&title={TEXT}&page_url={URL}&type=image&description=&alt={DESC}&img_title=&img_width=&img_height=",width:600,height:500,background:"#325892",color:"#fff"},techmeme:{name:"Techmeme",filterText:function(e){var t=function(e,t){var i,s;if(i=e.split(""),i.length>t){for(s=i.length-1;s>-1;--s)if(s>t)i.length=s;else if(" "===i[s]){i.length=s;break}i.push("...")}return i.join("")};return t(e,117)},url:"https://twitter.com/intent/tweet?url={URL}&text=tip+@techmeme:+{TEXT}",width:600,height:445,background:"#1E4B62",color:"#fff"},tinyurl:{name:"TinyURL",url:"http://tinyurl.com/create.php?url={URL}",width:800,height:660,background:"#009",color:"#fff"},tumblr:{
name:"Tumblr",url:"http://www.tumblr.com/share?v=3&u={URL}&t={TEXT}",width:450,height:450,background:"#2c4762",color:"#fff",priority:88},twitter:{name:"Twitter",filterText:function(e){var t=function(e,t){var i,s;if(i=e.split(""),i.length>t){for(s=i.length-1;s>-1;--s)if(s>t)i.length=s;else if(" "===i[s]){i.length=s;break}i.push("…")}return i.join("")};return t(e,117)},url:"https://twitter.com/intent/tweet?url={URL}&text={TEXT}&via={VIA}&related={RELATED}",width:600,height:445,background:"#00aced",color:"#fff",params:{via:{label:"Twitter @username",desc:"Twitter screen name to append to tweets with the via attribute. Do not include @ symbol."},related:{label:"Suggested accounts",desc:"Comma separated list of Twitter accounts to suggest following. Do not include @ symbol or spaces."}},priority:98},typepadpost:{name:"Typepad",url:"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={TEXT}&qp_href={URL}&qp_text={DESC}",width:585,height:735,background:"#7A9B5D",color:"#fff"},viadeo:{name:"Viadeo",url:"http://www.viadeo.com/shareit/share/?url={URL}",width:600,height:600,background:"#E46123",color:"#fff"},vk:{name:"VKontakte",url:"http://vk.com/share.php?url={URL}&title={TEXT}",width:660,height:500,background:"#4D76A1",color:"#fff"},wanelo:{name:"Wanelo",width:600,height:500,background:"#518653",color:"#fff",javascript:function(){function e(){window.waneloBookmarklet()}if(window.waneloBookmarklet)e();else{var t=encodeURIComponent(location.href),i=Math.floor(1e3*Math.random()),s=document.createElement("script");s.setAttribute("src","//wanelo.com/bookmarklet/3/setup?*="+i+"&url="+t),s.onload=e,s.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(s)}}},weheartit:{name:"We Heart It",url:"http://weheartit.com/heart-it/new_entry?encoding=utf-8&popup=1&hearting_method=heart_it_button&image_url={IMAGE}&source_url={URL}",width:700,height:500,background:"#FD6B9C",color:"#fff"},whatsapp:{name:"WhatsApp",url:"whatsapp://send?text={TEXT}%20{URL}",width:600,height:500,background:"#1d9e11",color:"#fff",priority:94},wordpressblog:{name:"Wordpress Blog",url:"https://sumome.com/apps/share/wordpress?u={URL}&t={TEXT}&s={DESC}&i={IMAGE}",width:600,height:350,background:"#000",color:"#fff"},wykop:{name:"Wykop",url:"http://www.wykop.pl/dodaj/link/?url={URL}&title={TEXT}&desc={DESC}",width:600,height:500,background:"#4684AD",color:"#fff"},xing:{name:"XING",url:"https://www.xing.com/spi/shares/new?url={URL}",width:600,height:600,background:"#006567",color:"#fff"},yahoomail:{name:"Yahoo! Mail",url:"http://compose.mail.yahoo.com/?subject={TEXT}&body={URL}",width:1160,height:690,background:"#2E147B",color:"#fff"},yammer:{name:"Yammer",url:"https://www.yammer.com/messages/new?login=true&trk_event=yammer_share&status={TEXT} {URL}",width:600,height:350,background:"#1074C3",color:"#fff"},ychackernews:{name:"YC Hacker News",url:"https://news.ycombinator.com/submitlink?u={URL}&t={TEXT}",width:600,height:335,background:"#FC6620",color:"#fff"},yummly:{name:"Yummly",url:"http://www.yummly.com/urb/verify?url={URL}&title={TEXT}&image={IMAGE}",width:600,height:500,background:"#e0601f",color:"#fff",fetch:"//www.yummly.com/services/yum-count?url={URL}",parse:function(e){if("count"in e)return parseInt(e.count);if("error"in e)throw new Error(e.error);return 0},priority:87}},e.shareSortedKeys=Object.keys(e.shareServices);var t=function(t,i){var s="priority"in e.shareServices[t]?e.shareServices[t].priority:0,n="priority"in e.shareServices[i]?e.shareServices[i].priority:0,r=n-s;return 0==r?i>t?-1:1:r};e.shareSortedKeys.sort(t),e.shareShortUrls={},e.share=function(t,i,s){var n=i.url||window.location.href.split("#")[0],r=i.text||e('meta[property="og:title"]').eq(0).attr("content")||e("title").eq(0).text()||document.title,s=s||null,o=e('meta[property="og:image"]').eq(0).attr("content")||e('link[rel="image_src"]').eq(0).attr("href")||"",a=i.starter||!1;if("twitter"===t&&e('meta[name="twitter:image"]').length&&(o=e('meta[name="twitter:image"]').eq(0).attr("content")),""==o){var l=0,u=null;e("img").each(function(){var t=e(this).width(),i=e(this).height(),s=1;if(t&&i){s=t>=i?i/t:t/i;var n=t*i*s;n>l&&(l=n,u=e(this))}}),null!=u&&(o=u.get(0).src||"")}var t=t.toLowerCase();if(t in e.shareServices)if("javascript"in e.shareServices[t])if("shortenUrl"in i&&"shortener"in i&&i.shortenUrl&&"pinterest"!=t){var c=i.shortener+":"+n;c in e.shareShortUrls?(n=e.shareShortUrls[c],e.shareServices[t].javascript(n,r,null,o,function(){s&&s(t,n)})):e.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/shorten",data:{site_id:i.siteId,href:n},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(a){"success"in a&&a.success&&(e.shareShortUrls[c]=a.url,n=a.url,e.extend(i,a)),e.shareServices[t].javascript(n,r,null,o,function(){s&&s(t,n)})})}else if("pinterest"===t){var m=(document.getElementsByTagName("HTML")[0].getAttribute("lang")||"en").toLowerCase(),h={};e.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/pinterest/messages",data:{site_id:i.siteId,language:m},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(a){"undefined"!=typeof a.success&&a.success&&"undefined"!=typeof a.messages?h[m]=a.messages:h[m]={noPinDomain:"Sorry, pinning is not allowed from this domain. Please contact the site operator if you have any questions.",noPinMeta:"Sorry, pinning is not allowed from this page. Please contact the site operator if you have any questions.",noPinnablesFound:"Sorry, couldn't find any pinnable things on this page.",noPinningFromPinterest:"Oops! That button doesn't work on Pinterest. Try using the red Pin It button at the top of any Pin.",choosePin:"Choose a Pin to save"},e.shareServices[t].javascript(i.sumoUrl,h,n,r,null,o,function(){s&&s(t,n)})})}else e.shareServices[t].javascript(n,r,null,o,function(){s&&s(t,n)});else{var p=e.shareServices[t].url,f=e.shareServices[t].width,d=e.shareServices[t].height,g="sumomeShare-"+4294967296*Math.random();if(p){var v=["pinterest","reddit","stumbleupon","yummly"];if("shortenUrl"in i&&"shortener"in i&&i.shortenUrl&&v.indexOf(t)<0){var c=i.shortener+":"+n;c in e.shareShortUrls?(n=e.shareShortUrls[c],e.shareWindow(t,i,p,r,n,o,a,g,s)):("http"==p.toLowerCase().substring(0,4)&&window.open("facebook"==t?"":i.sumoUrl+"/apps/share/loading",g,"height="+d+",width="+f+",location=0,menubar=0,status=0,titlebar=0,toolbar=0"),e.ajax({type:"POST",dataType:"json",url:i.sumoUrl+"/apps/share/shorten",data:{site_id:i.siteId,href:n},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(l){"success"in l&&l.success&&(e.shareShortUrls[c]=l.url,n=l.url,e.extend(i,l)),e.shareWindow(t,i,p,r,n,o,a,g,s)}))}else e.shareWindow(t,i,p,r,n,o,a,g,s)}}},e.shareWindow=function(t,i,s,n,r,o,a,l,u){if("filterText"in e.shareServices[t]&&(n=e.shareServices[t].filterText(n)),s=s.replace(/{URL}/g,encodeURIComponent(r)),s=s.replace("{TEXT}",encodeURIComponent(n)),s=s.replace("{DESC}",""),s=s.replace("{IMAGE}",encodeURIComponent(o)),s=s.replace("{PROMO}",a?"":"%0A%0A%0AShared%20by%20SumoMe%20%28%20http%3A%2F%2Fsumome.com%2F%20%29"),"params"in e.shareServices[t])for(var c in e.shareServices[t].params)if(c in i&&i[c])s=s.replace("{"+c.toUpperCase()+"}",encodeURIComponent(i[c]));else if("twitter"!==t||"via"!==c&&"related"!==c||!e('meta[name="twitter:site"]').length&&!e('meta[name="twitter:creator"]').length)s=s.replace("&"+c+"={"+c.toUpperCase()+"}","");else{if("via"===c)var m=e('meta[name="twitter:site"]').eq(0).attr("content")||e('meta[name="twitter:creator"]').eq(0).attr("content");else var m=e('meta[name="twitter:creator"]').eq(0).attr("content")||e('meta[name="twitter:site"]').eq(0).attr("content");"@"===m.substr(0,1)&&(m=m.substr(1)),s=s.replace("{"+c.toUpperCase()+"}",encodeURIComponent(m))}if("sms:?"==s.toLowerCase().substring(0,5)&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(s=s.replace(/sms:(\+?([0-9]*))?\?/,"sms:$1&")),"http"!=s.toLowerCase().substring(0,4)){var h=document.createElement("a");if(h.href=s,document.body.appendChild(h),"FastClick"in window&&window.FastClick)window.location.href=s;else if(h.click)h.click();else if(document.createEvent){var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window),h.dispatchEvent(p)}document.body.removeChild(h),u&&u(t,r)}else{var f=e.shareServices[t].width,d=e.shareServices[t].height,g=window.open(s,l,"height="+d+",width="+f+",location=0,menubar=0,status=0,titlebar=0,toolbar=0");if(u)var v=0,y=setInterval(function(){(g.closed||v++>120)&&(clearInterval(y),u(t,r))},500)}},e.shareFetch=function(t,i,s){var s=s||null,i=i||window.location.href.split("#")[0];"function"==typeof i&&(s=i,i=window.location.href.split("#")[0]);var t=t.toLowerCase();if(t in e.shareServices&&"fetch"in e.shareServices[t]&&"parse"in e.shareServices[t])try{var n="jsonp";if("method"in e.shareServices[t]&&(n=e.shareServices[t].method),"json"==n)e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),jsonp:"jsonp",dataType:"jsonp",cache:!1,success:function(n){try{var r=e.shareServices[t].parse(n);null!==s&&s(null,i,r)}catch(o){null!==s&&s(o)}},error:function(e){null!==s&&s(e)}});else if("jsonproxy"==n){var r="//sumome.com/jsonproxy/?url="+encodeURIComponent("https:"+e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)));["odnoklassniki","vk"].indexOf(t)>-1&&(r+="&raw=true"),e.ajax({type:"GET",url:r,jsonp:"jsonp",dataType:"jsonp",cache:!1,success:function(n){try{var r=e.shareServices[t].parse(n);null!==s&&s(null,i,r)}catch(o){null!==s&&s(o)}},error:function(e){null!==s&&s(e)}})}else if("jsonp"==n)e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",dataType:"jsonp",cache:!1,success:function(n){try{var r=e.shareServices[t].parse(n);null!==s&&s(null,i,r)}catch(o){null!==s&&s(o)}},error:function(e){null!==s&&s(e)}});else if("googleplus"==n)e.ajax({type:"POST",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",cache:!1,data:JSON.stringify({method:"pos.plusones.get",id:"p",params:{nolog:!0,id:i,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}),success:function(n){try{var r=e.shareServices[t].parse(n);null!==s&&s(null,i,r)}catch(o){null!==s&&s(o)}},error:function(e){null!==s&&s(e)}});else if("linkedin"==n){for(var o="linkedinjsonpcallback",a=0;6>a;a++)o+=String.fromCharCode(Math.floor(26*Math.random())+97);e.ajax({type:"GET",url:e.shareServices[t].fetch.replace("{URL}",encodeURIComponent(i)),contentType:"application/json",dataType:"jsonp",jsonpCallback:o,cache:!1,success:function(n){try{var r=e.shareServices[t].parse(n);null!==s&&s(null,i,r)}catch(o){null!==s&&s(o)}},error:function(e){null!==s&&s(e)}})}}catch(l){null!==s&&s(l)}else null!==s&&s(new Error("Invalid service"))}}),sumo.define("jquery.style",["jquery"],function(e){if(!e.fn.style){var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},i=!!CSSStyleDeclaration.prototype.getPropertyValue;i||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,i,s){this.setAttribute(e,i);var s="undefined"!=typeof s?s:"";if(""!=s){var n=new RegExp(t(e)+"\\s*:\\s*"+t(i)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(n,e+": "+i+" !"+s+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){var i=new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return i.test(this.cssText)?"important":""}),e.fn.style=function(e,t,i){var s=this.get(0);if("undefined"==typeof s)return this;var n=this.get(0).style;return"undefined"!=typeof e?"undefined"!=typeof t?(i="important"==i?i:"","important"!=i&&"important"==n.getPropertyPriority(e)&&n.removeProperty(e),n.setProperty(e,t,i),this):n.getPropertyValue(e):n}}}),sumo.define("insQ",[],function(){var e=function(){"use strict";function e(e,t){var s,n="insQ_"+o++,r=function(e){(e.animationName===n||e[l]===n)&&(i(e.target)||t(e.target))};s=document.createElement("style"),s.innerHTML="@"+u+"keyframes "+n+" {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }\n"+e+" { animation-duration: 0.001s; animation-name: "+n+"; "+u+"animation-duration: 0.001s; "+u+"animation-name: "+n+";  } ",document.head.appendChild(s);var a=setTimeout(function(){document.addEventListener("animationstart",r,!1),document.addEventListener("MSAnimationStart",r,!1),document.addEventListener("webkitAnimationStart",r,!1)},p.timeout);return{destroy:function(){clearTimeout(a),s&&(document.head.removeChild(s),s=null),document.removeEventListener("animationstart",r),document.removeEventListener("MSAnimationStart",r),document.removeEventListener("webkitAnimationStart",r)}}}function t(e){e.QinsQ=!0}function i(e){return p.strictlyNew&&e.QinsQ===!0}function s(e){var t=e.parentNode;return t?i(t)?e:s(t):e}function n(e){for(t(e),e=e.firstChild;e;e=e.nextSibling)void 0!==e&&1===e.nodeType&&n(e)}function r(r,o){var a=[],l=function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){a.forEach(n),o(a),a=[]},10)}}();return e(r,function(e){if(!i(e)){t(e);var n=s(e);a.indexOf(n)<0&&a.push(n),l()}})}var o=100,a=!1,l="animationName",u="",c="Webkit Moz O ms Khtml".split(" "),m="",h=document.createElement("div"),p={strictlyNew:!0,timeout:20};if(h.style.animationName&&(a=!0),a===!1)for(var f=0;f<c.length;f++)if(void 0!==h.style[c[f]+"AnimationName"]){m=c[f],l=m+"AnimationName",u="-"+m.toLowerCase()+"-",a=!0;break}var d=function(t){return a&&t.match(/[^{}]/)?(p.strictlyNew&&n(document.body),{every:function(i){return e(t,i)},summary:function(e){return r(t,e)}}):!1};return d.config=function(e){for(var t in e)e.hasOwnProperty(t)&&(p[t]=e[t])},d}();return e}),sumo.define("debounce",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,i,s,n){function r(){function e(){a=+new Date,s.apply(l,c)}function r(){o=void 0}var l=this,u=+new Date-a,c=arguments;n&&!o&&e(),o&&clearTimeout(o),void 0===n&&u>t?e():i!==!0&&(o=setTimeout(n?r:e,void 0===n?t-u:t))}var o,a=0;return"boolean"!=typeof i&&(n=s,s=i,i=void 0),e.guid&&(r.guid=s.guid=s.guid||e.guid++),r},e.debounce=function(e,i,s){return void 0===s?t(e,i,!1):t(e,s,i!==!1)}}),sumo.define("jquery.styleBuffer",["jquery","insQ","jquery.style","debounce"],function(e,t){e.expr[":"].notonpage=e.expr.createPseudo(function(t){return function(t){if("hidden"==e(t).css("visibility")||0==e(t).css("opacity")||"none"==e(t).css("display")||e(t).position().top>=e(window).height()||e(t).position().right<=0||e(t).position().left>=e(window).width()||e(t).position().left<=-e(t).width()||e(t).position().bottom<=0)return!0;var i=e(t).parent();return i?i.is(":notonpage"):!1}}),e.fn.removeStyleBuffer=function(t,i){var s=this;return s.each(function(){var s=e(this).data(t+"-buffer-"+i),n=e(this).data(t+"-buffer-"+i+"-priority");e(this).style(t+"-"+i,void 0==s?"":s,void 0==n?"":n)}),e.each(e.fn.styleBuffer._groups,function(e,t){t.elements=t.elements.not(s)}),this},e.fn.styleBufferPage=function(t){var t=t||e("*"),i=e("[data-sumome-stylebuffer-page]"),s=i.length*e(window).height();return i.length>0?($fixed=t.not(i).not("body, html").filter(function(){if(e(this).is("[data-sumome-stylebuffer-page-fixed], #sumome-modal-mask, .sumome-control, .sumome-dialog-popup, .sumome-dialog-popup-overlay, .sumome-blockui, .sumome-block-overlay, .sumome-sp-container"))return!1;var t=e(this).css("position");if("fixed"===t)return!0;if("absolute"!==t)return!1;var i=e(this).parents().filter(function(t,i){return!e(i).is("body,html")&&["relative","fixed","absolute"].indexOf(e(i).css("position"))>=0});if(!i||!i.length)return!0;if(e(this).parents("[data-sumome-stylebuffer-page]").length>0)return!1;if(!e(this).parent().is("body,html"))return!1;var n=e(this).position().top;return s>=n&&n>-2e3?!0:!1}),$fixed.each(function(){e(this).attr("data-sumome-stylebuffer-page-fixed",!0);for(var t=["","-webkit","-ms","-moz","-o"],i=0;i<t.length;i++){var s=t[i];e(this).data("sumome-stylebuffer-original"+s+"-transform",e(this).style(s+(s?"-":"")+"transform")),e(this).data("sumome-stylebuffer-original"+s+"-transform-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"transform")),e(this).data("sumome-stylebuffer-original"+s+"-transition-duration",e(this).style(s+(s?"-":"")+"transition-duration")),e(this).data("sumome-stylebuffer-original"+s+"-transition-duration-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"transition-duration")),e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode",e(this).style(s+(s?"-":"")+"animation-fill-mode")),e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"animation-fill-mode")),e(this).data("sumome-stylebuffer-original"+s+"-animation-duration",e(this).style(s+(s?"-":"")+"animation-duration")),e(this).data("sumome-stylebuffer-original"+s+"-animation-duration-priority",e(this).style().getPropertyPriority(s+(s?"-":"")+"animation-duration"))}for(var i=0;i<t.length;i++){var s=t[i];e(this).style(s+(s?"-":"")+"transition-duration","0s","important"),e(this).style(s+(s?"-":"")+"transform","scale(0,0)","important"),e(this).style(s+(s?"-":"")+"animation-fill-mode","none","important"),e(this).style(s+(s?"-":"")+"animation-duration","0s","important")}e(this).is("iframe")&&(e(this).data("sumome-stylebuffer-original-display",e(this).style("display")),e(this).data("sumome-stylebuffer-original-display-priority",e(this).style().getPropertyPriority("display")),e(this).style("display","none","important"))})):e("[data-sumome-stylebuffer-page-fixed]").each(function(){for(var t=["","-webkit","-ms","-moz","-o"],i=0;i<t.length;i++){var s=t[i];e(this).style(s+(s?"-":"")+"transform",e(this).data("sumome-stylebuffer-original"+s+"-transform"),e(this).data("sumome-stylebuffer-original"+s+"-transform-priority")),e(this).style(s+(s?"-":"")+"transition-duration",e(this).data("sumome-stylebuffer-original"+s+"-transition-duration"),e(this).data("sumome-stylebuffer-original"+s+"-transition-duration-priority")),e(this).style(s+(s?"-":"")+"animation-fill-mode",e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode"),e(this).data("sumome-stylebuffer-original"+s+"-animation-fill-mode-priority")),e(this).style(s+(s?"-":"")+"animation-duration",e(this).data("sumome-stylebuffer-original"+s+"-animation-duration"),e(this).data("sumome-stylebuffer-original"+s+"-animation-duration-priority"))}e(this).is("iframe")&&e(this).style("display",e(this).data("sumome-stylebuffer-original-display"),e(this).data("sumome-stylebuffer-original-display-priority")),e(this).removeAttr("data-sumome-stylebuffer-page-fixed")}),i},e.fn.styleBufferTop=function(t){t?e.fn.styleBufferTop._debounceInit(t):e.fn.styleBufferTop._init(t)},e.fn.styleBufferTop._init=function(t){function i(){var t=document.getElementById("sumome-smartbar-popup");if(t){var i=t.getBoundingClientRect(),s=i.height;i.bottom>0&&(s=i.height-i.bottom),e.fn.styleBufferTop.stackedElements.each(function(t,i){e(i).css("marginTop",e(i).data("sumome-stylebuffertop-original-margin")-s)}),e.fn.styleBufferTop.oldTopElements.each(function(t,i){e(i).css("position",e(i).data("sumome-stylebuffertop-original-position")),e(i).css("top",e(i).data("sumome-stylebuffertop-original-top")-s)})}}var s=e.fn.styleBufferPage(),n=s.length*e(window).height();if(t)var r=e("[data-sumome-stylebuffer-top]");else var r=e("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]");var o=0;r.sort(function(t,i){return t=e(t).data("sumome-stylebuffer-top"),i=e(i).data("sumome-stylebuffer-top"),i>t?-1:t>i?1:0}),e.fn.styleBufferTop._groups=[];var a=e("body"),l=e("#sumome-smartbar-popup[data-sumome-stylebuffer-top]"),u=0,c=!1;if(e.fn.styleBufferTop.stackedElements=e(r).not("#sumome-smartbar-popup"),l&&l.data("sumome-smartbar-config")&&(u=l.outerHeight(),c=l.data("sumome-smartbar-config").show_type),e(r).each(function(t,i){e.fn.styleBuffer._apply(e(i),"margin","top",o,!0),e.fn.styleBufferTop._groups.push({elements:e(i),prop:"margin",side:"top",px:o,force:!0}),"undefined"==typeof e(i).data("sumome-stylebuffertop-original-margin")&&e(i).data("sumome-stylebuffertop-original-margin",o),o+=e(i).height()}),"undefined"==typeof a.data("sumome-stylebuffertop-original-margintop")?(a.data("sumome-stylebuffertop-original-margintop",parseInt(a.css("marginTop"))),a.data("sumome-stylebuffertop-original-paddingtop",parseInt(a.css("paddingTop")))):(a.css("marginTop",a.data("sumome-stylebuffertop-original-margintop")),a.css("paddingTop",a.data("sumome-stylebuffertop-original-paddingtop")+"px !important")),e.fn.styleBufferTop.oldTopElements&&e.fn.styleBufferTop.oldTopElements.length&&e.fn.styleBufferTop.oldTopElements.each(function(t,i){if(e(i).data("sumome-stylebuffertop-original-offset")){var s=e(i).data("sumome-stylebuffertop-has-inline").top,n=e(i).data("sumome-stylebuffertop-has-inline").bottom,r=e(i).data("sumome-stylebuffertop-has-inline").left,o=e(i).data("sumome-stylebuffertop-has-inline").right,a=e(i).data("sumome-stylebuffertop-has-inline").position,l=e(i).style("right"),u=e(i).position().right,c=e(i).data("sumome-stylebuffertop-original-offset").right,m=e(i).style("left"),h=e(i).position().left,p=e(i).data("sumome-stylebuffertop-original-offset").left;e(i).style("top",e(i).data("sumome-stylebuffertop-original-offset").top),e(i).style("bottom",e(i).data("sumome-stylebuffertop-original-offset").bottom),l!==c&&u>0&&e(i).style("right",c),parseInt(p)>-2e3&&m!==p&&h<e(window).width()&&e(i).style("left",p),s||(e(i)[0].style.top=""),o||(e(i)[0].style.right=""),r||(e(i)[0].style.left=""),n||(e(i)[0].style.bottom=""),a||(e(i)[0].style.position="")}else e(i).style("top","0px")}),!t){e.fn.styleBufferTop.classFixedElements===!1&&(e.fn.styleBufferTop.classFixedElements=e(".fixed").not(r).length);var m=[".sumome-control",".sumome-dialog-popup",".sumome-dialog-popup-overlay",".sumome-image-sharer",".sumome-contactform-left-page-hidden",".sumome-contactform-right-page-hidden"];e.fn.styleBufferTop.oldTopElements=e("*").not(r).not(s).filter(function(t,i){var s=["absolute","fixed"].indexOf(e(i).css("position"))>=0&&e(i).position().top<o&&e(i).position().top>-2e3&&e(i).height()+e(i).position().top>0&&"sumome-modal-mask"!=e(i).attr("id")&&!e(i).is(m.join(","));if(s&&"undefined"==typeof e(i).data("sumome-stylebuffertop-original-position")){e(i).data("sumome-stylebuffertop-original-position",e(i).css("position"));var n={top:""!==e(i)[0].style.top,left:""!==e(i)[0].style.left,right:""!==e(i)[0].style.right,bottom:""!==e(i)[0].style.bottom,position:""!==e(i)[0].style.position},r={top:e(i).css("top"),left:e(i).css("left"),bottom:e(i).css("bottom"),right:e(i).css("right")};"auto"!=r.bottom&&parseFloat(r.bottom)>0&&(r.bottom=parseFloat(r.bottom)-o+"px"),e(i).data("sumome-stylebuffertop-original-offset",r),e(i).data("sumome-stylebuffertop-has-inline",n)}return s}),e.fn.styleBufferTop.oldTopElements=e.fn.styleBufferTop.oldTopElements.filter(function(t,i){if("fixed"==e(i).css("position"))return!0;var s=e(i).parents().filter(function(t,i){return!e(i).is("body,html")&&["relative","fixed","absolute"].indexOf(e(i).css("position"))>=0});return!(s&&s.length)}),e.fn.styleBufferTop.bumpDownElements=e.fn.styleBufferTop.oldTopElements.filter(function(t,i){var s=!1;return"fixed"==e(i).css("position")?!0:(e(i).parents().each(function(t,i){return!e(i).is("body,html")&&["relative","absolute"].indexOf(e(i).css("position"))>=0?(s=!0,!1):void 0}),!s)}),e.fn.styleBufferTop.changePositionElements=e.fn.styleBufferTop.bumpDownElements.filter(function(t,i){var s=!1;return"fixed"==e(i).css("position")?(e(i).parents().each(function(t,i){return!e(i).is("body,html")&&["relative","absolute","fixed"].indexOf(e(i).css("position"))>=0?(s=!0,!1):void 0}),s&&e(i).data("sumome-stylebuffertop-offset",{top:e(i).offset().top-e(window).scrollTop(),left:e(i).offset().left-e(window).scrollLeft()}),s):!1})}"smart"==c&&(e.fn.styleBufferTop.oldTopElements.addClass("sumome-smartbar-fixedTopSmart"),e(r).not("#sumome-smartbar-popup").style("transition","margin-top .2s ease-in-out"),a.style("transition","margin-top .2s ease-in-out")),"static"==c?(e.fn.styleBufferTop.bumpDownElements&&e.fn.styleBufferTop.bumpDownElements.length&&(e.fn.styleBufferTop.bumpDownElements.each(function(t,i){var s=!1;if(e.inArray(i,e.fn.styleBufferTop.changePositionElements)>=0){s=!0;var n=e(i).offset()}e(i).style("position","absolute"),s?(e(i).data("sumome-smartbar-new-offset",{top:u+n.top-e(i).offset().top,left:n.left-e(i).offset().left}),e(i).style("top",e(i).data("sumome-smartbar-new-offset").top+"px"),e(i).data("sumome-smartbar-new-offset").left!==parseInt(e(i).data("sumome-stylebuffertop-original-offset").left)&&parseInt(e(i).data("sumome-stylebuffertop-original-offset").left)>e(window).width()&&e(i).style("left",e(i).data("sumome-smartbar-new-offset").left+"px")):e(i).style("top",o+"px"),e(i).data("sumome-stylebuffertop-original-top",o)}),e.fn.styleBufferTop.oldTopElements.each(function(t,i){e(i).css("position",e(i).data("sumome-stylebuffertop-original-position"))})),e(window).scroll(i),i()):(e.fn.styleBufferTop.oldTopElements&&e.fn.styleBufferTop.oldTopElements.length&&e.fn.styleBufferTop.oldTopElements.each(function(t,i){e(i).data("sumome-stylebuffertop-original-offset")&&("auto"==e(i).data("sumome-stylebuffertop-original-offset").top||e(i).style("top",o+parseFloat(e(i).data("sumome-stylebuffertop-original-offset").top)+"px"))}),"fixed"==c&&e(window).scroll(function(){var t=60,i=e(window).scrollTop();e.fn.styleBufferTop.classFixedElements!==e.fn.styleBufferTop.classFixedElementsScroll&&(i>=t&&e.fn.styleBufferTop.classFixedElementsScroll===!1?e.fn.styleBufferTop.classFixedElementsScroll=e(".fixed").not(r).length:i>=t&&!e.fn.styleBufferTop.checkScrollDown?(e.fn.styleBufferTop.checkScrollDown=!0,e.fn.styleBufferTop.checkScrollUp=!1,e("body").styleBufferTop()):t>i&&!e.fn.styleBufferTop.checkScrollUp&&(e.fn.styleBufferTop.checkScrollDown=!1,e.fn.styleBufferTop.checkScrollUp=!0,e("body").styleBufferTop()))}));var l=e("#sumome-smartbar-popup");if(l&&l.data("sumome-smartbar-config")&&"smart"==l.data("sumome-smartbar-config").show_type&&(o=0,e("[data-sumome-stylebuffer-top],[data-sumome-stylebuffer-top-stash]").each(function(){o+=e(this).outerHeight()})),e.fn.styleBufferTop.totalOffset=o,o+=a.data("sumome-stylebuffertop-original-paddingtop")+a.data("sumome-stylebuffertop-original-margintop"),o+n!==0?(e.fn.styleBuffer._apply(a,"padding","top",o+n,!0,"important"),e.fn.styleBuffer._apply(a,"margin","top",0,!0,"important"),e.fn.styleBufferTop._groups.push({elements:a,prop:"padding",side:"top",px:o+n,force:!0,priority:"important"}),e.fn.styleBufferTop._groups.push({elements:a,prop:"margin",side:"top",px:0,force:!0,priority:"important"})):(a.removeStyleBuffer("padding","top"),a.removeStyleBuffer("margin","top")),("bugfix"==a.css("-webkit-animation-name")||"androidbugfix"==a.css("-webkit-animation-name"))&&(e("[data-sumome-stylebuffertop-bugfix]").length&&e("[data-sumome-stylebuffertop-bugfix]").remove(),a.append("<style data-sumome-stylebuffertop-bugfix>@-webkit-keyframes sumome-bugfix { from { fill: 0; } to { fill: 0; } }</style>"),a.css("-webkit-animation","sumome-bugfix infinite 1s")),"undefined"==typeof a.data("sumome-stylebuffertop-original-bgposition")&&(a.data("sumome-stylebuffertop-original-bgposition",a.css("backgroundPosition")),a.data("sumome-stylebuffertop-original-bgpositiony",a.css("backgroundPositionY")),a.data("sumome-stylebuffertop-original-bgrepeat",a.css("backgroundRepeat"))),("50% 0%"==a.data("sumome-stylebuffertop-original-bgposition")&&"no-repeat"==a.data("sumome-stylebuffertop-original-bgrepeat")||"0% 0%"==a.data("sumome-stylebuffertop-original-bgposition")&&"repeat-x"==a.data("sumome-stylebuffertop-original-bgrepeat"))&&a.css("backgroundPositionY",o),/^50% [0-9]+px, 0% [0-9]+px$/.test(a.data("sumome-stylebuffertop-original-bgposition"))&&/^no-repeat/.test(a.data("sumome-stylebuffertop-original-bgrepeat"))){var h=a.data("sumome-stylebuffertop-original-bgpositiony").split(", ");a.css("backgroundPositionY",parseInt(h[0])+o+"px, "+(parseInt(h[1])+o)+"px")}return this},e.fn.styleBufferTop._debounceInit=e.debounce(150,!0,function(t){e.fn.styleBufferTop._init(t)}),e.fn.styleBufferBottom=function(t){t?e.fn.styleBufferBottom._debounceInit(t):e.fn.styleBufferBottom._init(t)},e.fn.styleBufferBottom._init=function(t){var i=e("[data-sumome-stylebuffer-page]");if(t)var s=e("[data-sumome-stylebuffer-bottom]");else var s=e("[data-sumome-stylebuffer-bottom],[data-sumome-stylebuffer-bottom-stash]");var n=0;s.sort(function(t,i){return t=e(t).data("sumome-stylebuffer-bottom"),i=e(i).data("sumome-stylebuffer-bottom"),i>t?-1:t>i?1:0}),e.fn.styleBufferBottom._groups=[];var r=e("body"),o=e("#sumome-smartbar-popup[data-sumome-stylebuffer-bottom]"),a=0,l=!1;if(e.fn.styleBufferBottom.stackedElements=e(s).not("#sumome-smartbar-popup"),o&&o.data("sumome-smartbar-config")&&(a=o.outerHeight(),l=o.data("sumome-smartbar-config").show_type),e(s).each(function(t,i){e(i).data("sumome-stylebufferbottom-offsety")&&(n+=e(i).data("sumome-stylebufferbottom-offsety")),e.fn.styleBuffer._apply(e(i),"top","top","auto",!0),e.fn.styleBuffer._apply(e(i),"bottom","bottom",n,!0),e.fn.styleBufferBottom._groups.push({elements:e(i),prop:"top",side:"top",px:"auto",force:!0}),e.fn.styleBufferBottom._groups.push({elements:e(i),prop:"bottom",side:"bottom",px:n,force:!0}),"undefined"==typeof e(i).data("sumome-stylebufferbottom-original-bottom")&&e(i).data("sumome-stylebufferbottom-original-bottom",n),n+=e(i).height()}),"undefined"==typeof r.data("sumome-stylebufferbottom-original-marginbottom")?(r.data("sumome-stylebufferbottom-original-marginbottom",parseInt(r.css("marginBottom"))),r.data("sumome-stylebufferbottom-original-paddingbottom",parseInt(r.css("paddingBottom")))):(r.css("marginBottom",r.data("sumome-stylebufferbottom-original-marginbottom")),r.css("paddingBottom",r.data("sumome-stylebufferbottom-original-paddingbottom"))),e.fn.styleBufferBottom.oldBottomElements&&e.fn.styleBufferBottom.oldBottomElements.length&&e.fn.styleBufferBottom.oldBottomElements.each(function(t,i){if(e(i).data("sumome-stylebufferbottom-original-offset")){var s=e(i).data("sumome-stylebufferbottom-has-inline").top,n=e(i).data("sumome-stylebufferbottom-has-inline").bottom,r=e(i).data("sumome-stylebufferbottom-has-inline").left,o=e(i).data("sumome-stylebufferbottom-has-inline").right,a=e(i).data("sumome-stylebufferbottom-has-inline").position;e(i).style("position",e(i).data("sumome-stylebufferbottom-original-position")),e(i).style("top",e(i).data("sumome-stylebufferbottom-original-offset").top),e(i).style("bottom",e(i).data("sumome-stylebufferbottom-original-offset").bottom),e(i).style("left",e(i).data("sumome-stylebufferbottom-original-offset").left),e(i).style("right",e(i).data("sumome-stylebufferbottom-original-offset").right),s||(e(i)[0].style.top=""),o||(e(i)[0].style.right=""),r||(e(i)[0].style.left=""),n||(e(i)[0].style.bottom=""),a||(e(i)[0].style.position="")}else e(i).style("bottom","0px")}),!t){var u=["#sumome-modal-mask",".sumome-control",".sumome-dialog-popup",".sumome-dialog-popup-overlay"];e.fn.styleBufferBottom.oldBottomElements=e("*").not(s).not(i).filter(function(t,i){var s=["absolute","fixed"].indexOf(e(i).css("position"))>=0&&parseInt(e(i).css("bottom"))<n&&!e(i).is(u.join(","));return s&&"undefined"==typeof e(i).data("sumome-stylebufferbottom-original-position")&&(e(i).data("sumome-stylebufferbottom-original-position",e(i).css("position")),e(i).data("sumome-stylebufferbottom-original-offset",{top:e(i).css("top"),left:e(i).css("left"),bottom:e(i).css("bottom"),right:e(i).css("right")}),e(i).data("sumome-stylebufferbottom-has-inline",{top:""!==e(i)[0].style.top,left:""!==e(i)[0].style.left,right:""!==e(i)[0].style.right,bottom:""!==e(i)[0].style.bottom,position:""!==e(i)[0].style.position})),s});var c=e(window).height();e.fn.styleBufferBottom.oldBottomElements=e.fn.styleBufferBottom.oldBottomElements.filter(function(t,i){
if(e(i).height()>=c)return!1;if("fixed"==e(i).css("position"))return!e(i).is(":notonpage");var s=e(i).parents().filter(function(t,i){return!e(i).is("body,html")&&["relative","fixed","absolute"].indexOf(e(i).css("position"))>=0});return!(s&&s.length)})}"smart"==l&&e(s).not("#sumome-smartbar-popup").style("transition","bottom .2s ease-in-out"),e.fn.styleBufferBottom.oldBottomElements&&e.fn.styleBufferBottom.oldBottomElements.length&&e.fn.styleBufferBottom.oldBottomElements.each(function(t,i){e(i).style("bottom",n+parseFloat(e(i).data("sumome-stylebufferbottom-original-offset").bottom)+"px"),n+=0===n||"fixed"===e(i).style("position")?0:e(i).height()}),e.fn.styleBufferBottom.totalOffset=n,n+=r.data("sumome-stylebufferbottom-original-paddingbottom")+r.data("sumome-stylebufferbottom-original-marginbottom"),e(".sumome-stylebufferbottom-shim").length||e('<div class="sumome-stylebufferbottom-shim" />').appendTo(r);var m=e(".sumome-stylebufferbottom-shim");return m.height(n),this},e.fn.styleBufferBottom._debounceInit=e.debounce(150,!0,function(t){e.fn.styleBufferBottom._init(t)}),e.fn.styleBuffer=function(t,i,s){return this.length<1?this:(e.fn.styleBuffer._groups.push({elements:this,prop:t,side:i,px:s,force:!1}),e.fn.styleBuffer._apply(this,t,i,s,!1),this)},e.fn.styleBuffer._apply=function(t,i,n,r,o,a){var l=e(t);return l.each(function(){var t=e(this);if(i==n)t.style(i,r+("auto"!=r?"px":""),void 0==a?"":a);else{var l=t.data(i+"-buffer-"+n),u=t.data(i+"-buffer-"+n+"-priority");if(void 0==l?(l=t.style(i+"-"+n),u=t.style().getPropertyPriority(i+"-"+n),t.data(i+"-buffer-"+n,void 0==l?"":l),t.data(i+"-buffer-"+n+"-priority",void 0==u?"":u)):e(this).style(i+"-"+n,l,void 0==u?"":u),o)t.style(i+"-"+n,r+"px",void 0==a?"":a);else{var c=s(t.css(i+"-"+n));t.style(i+"-"+n,Math.max(c,r)+"px",void 0==a?"":a)}}}),this},e.fn.styleBuffer.smartHide=function(t,i){if(!e.fn.styleBuffer.firedSmartHide){if(e.fn.styleBuffer.firedSmartHide=!0,e.fn.styleBuffer.firedSmartShow=!1,i)var s=e.fn.styleBufferTop,n=s.oldTopElements,r="sumome-stylebuffertop-original-margin",o="sumome-stylebuffertop-original-offset",a="sumome-stylebuffertop-original-position",l="top",u="marginTop";else{var s=e.fn.styleBufferBottom,n=s.oldBottomElements,r="sumome-stylebufferbottom-original-bottom",o="sumome-stylebufferbottom-original-offset",a="sumome-stylebufferbottom-original-position",l="bottom",u="bottom";e(".sumome-stylebufferbottom-shim").length&&e(".sumome-stylebufferbottom-shim").height("-="+t)}n&&n.length&&n.each(function(i,n){if(e(n).data(o)){if("fixed"==e(n).data(a))var r=s.totalOffset-t;else var r=t+parseFloat(e(n).data(o).top);e(n).style(l,r+"px")}else e(n).style(l,"0px")}),s.stackedElements&&s.stackedElements.length&&s.stackedElements.each(function(i,s){e(s).css(u,e(s).data(r)-t)})}},e.fn.styleBuffer.smartShow=function(t,i){if(!e.fn.styleBuffer.firedSmartShow){if(e.fn.styleBuffer.firedSmartHide=!1,e.fn.styleBuffer.firedSmartShow=!0,i)var s=e.fn.styleBufferTop,n=s.oldTopElements,r="sumome-stylebuffertop-original-margin",o="sumome-stylebuffertop-original-offset",a="top",l="marginTop";else{var s=e.fn.styleBufferBottom,n=s.oldBottomElements,r="sumome-stylebufferbottom-original-bottom",o="sumome-stylebufferbottom-original-offset",a="bottom",l="bottom";e(".sumome-stylebufferbottom-shim").length&&e(".sumome-stylebufferbottom-shim").height("+="+t)}n&&n.length&&n.each(function(i,n){e(n).data(o)?e(n).style(a,s.totalOffset+"px"):e(n).style(a,t+"px")}),s.stackedElements&&s.stackedElements.length&&s.stackedElements.each(function(t,i){e(i).css(l,e(i).data(r))})}},e.fn.styleBuffer._groups=[],e.fn.styleBuffer._throttle=80,e.fn.styleBuffer.firedSmartHide=!1,e.fn.styleBuffer.firedSmartShow=!1,e.fn.styleBufferTop._groups=[],e.fn.styleBufferTop.stackedElements=null,e.fn.styleBufferTop.oldTopElements=null,e.fn.styleBufferTop.bumpDownElements=null,e.fn.styleBufferTop.changePositionElements=null,e.fn.styleBufferTop.totalOffset=0,e.fn.styleBufferTop.checkedScrollDown=!1,e.fn.styleBufferTop.classFixedElements=!1,e.fn.styleBufferTop.classFixedElementsScroll=!1,e.fn.styleBufferTop.checkScrollDown=!1,e.fn.styleBufferTop.checkScrollUp=!0,e.fn.styleBufferBottom._groups=[],e.fn.styleBufferBottom.stackedElements=null,e.fn.styleBufferBottom.oldBottomElements=null,e.fn.styleBufferBottom.totalOffset=0;var i=-1;e.fn.styleBuffer._update=e.debounce(150,!0,function(t){if(t&&"resize"===t.type){var s=e(window).width();if(s===i)return;i=s}e.each(e.fn.styleBuffer._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)}),e.fn.styleBufferTop._groups.length&&(e("body").styleBufferTop(!0),e.each(e.fn.styleBufferTop._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)})),e.fn.styleBufferBottom._groups.length&&(e("body").styleBufferBottom(!0),e.each(e.fn.styleBufferBottom._groups,function(){e.fn.styleBuffer._apply(this.elements,this.prop,this.side,this.px,this.force,this.priority)})),e(window).trigger("resize.sumome-welcomemat")}),e(window).bind("load resize orientationchange",function(t){t&&"resize"==t.type&&t.target!=window||e.fn.styleBuffer._update(t)}),t.config({strictlyNew:!1}),t("#menufication-top").every(e.proxy(function(t){e("body").styleBufferTop()},this));var s=function(e){return parseFloat(e)||0}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(e,t){e.isCurrentUrlAllowed=function(i,s,n,r){function o(e,t,i,s){var n=[];if(e&&e.length)for(var r=0;r<e.length;r++){var o=e[r];if("object"==typeof o&&o.hasOwnProperty(t)&&o[t]==i&&(n.push(o),s))return n[0]}return s?null:n}if(i&&i.length){var a=o(i,"filter_type","article",!0),l=[];a&&(l=e.articles()),n||(n=!1);var u=function(e){for(var t=Object.keys(e),i=t.length,s=Array(i),n=0;i>n;n++)s[n]=[t[n],e[t[n]]];return s},c=function(e){var t=u(e),i=t.length;return function(e){if(null==e)return!i;e=new Object(e);for(var s=0;i>s;s++){var n=t[s],r=n[0];if(n[1]!==e[r]||!(r in e))return!1}return!0}},m=function(e){var e=e.substr(1).split("&");if(""==e)return{};for(var t={},i=0;i<e.length;++i){var s=e[i].split("=",2);if(1==s.length)t[s[0]]="";else try{t[s[0]]=decodeURIComponent(s[1].replace(/\+/g," "))}catch(n){t[s[0]]=s[1].replace(/\+/g," ")}}return t},h=function(e,t,i){if(e.has_hash&&e.hash!=t)return!1;if(e.has_query_params){var s=m(e.search),n=m(i),r=c(s);if(r(n))return!0;if(!(["containing","beginning"].indexOf(e.filter_type)>=0))return!1;for(var o=Object.keys(s),a=0;a<o.length;a++){var l=o[a],u=s[o[a]];if(u&&u.length)if(l in n){if(0!=n[l].indexOf(u))return!1}else{if("containing"!=e.filter_type)return!1;var h=!1;if(Object.keys(n).forEach(function(e){e.lastIndexOf(l)>=0&&l==e.substring(e.lastIndexOf(l))&&0==n[e].indexOf(u)&&(h=!0)}),!h)return!1}else{if(l in n)continue;for(var p=Object.keys(n),h=!1,f=0;f<p.length;f++){var d=p[f];if(0==d.indexOf(l)){h=!0;break}}if(!h)return!1}}}return!0},p=o(i,"parsedUserAgent",!0,!0),f=window.location.toString();f&&(f=f.toLowerCase());var d=window.location.pathname.toString();d&&(d=d.toLowerCase());var g=window.location.hostname+d;g&&(g=g.toLowerCase()),"/"==d[d.length-1]&&(d=d.substring(0,d.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var y=window.location.hash;y&&(y=y.toLowerCase(),"#"!=y[0]&&(y="#"+y));for(var b=m(v),w=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),_=document.cookie.split(";"),x={},k=[],S=0;S<_.length;S++){var C=_[S].substring(0,_[S].indexOf("=")).trim(),T=_[S].substring(_[S].indexOf("=")+1).trim();k.push(C),x[C]=T}var B=document.getElementsByTagName("meta"),E=document.referrer;if(E&&E.length){E=E.toLowerCase();try{var I=t(E);if(I.is("ip")){var P=I.hostname();P&&(P=P.toLowerCase())}else{var P=I.domain();P&&(P=P.toLowerCase())}var L=I.path();L&&(L=L.toLowerCase());var U=I.tld();U&&(U=U.toLowerCase());var O=I.hostname()?I.hostname().toLowerCase()+L:L;"/"==L[L.length-1]&&(L=L.substring(0,L.length-1),O=O.substring(0,O.length-1)),0==O.indexOf("www.")&&(O=O.substring(4));var A=I.search(),R=I.hash()}catch(j){E=!1}}else E=!1;var z=function(t){var i=!1;return e.each(t,function(e,t){var s=!1;return t.forEach(function(e){var t=!1;if(!s)if("article"==e.filter_type)1==l.length&&(t=!0);else if("smaller"==e.filter_type)(isNaN(parseFloat(e.filter_value))||w<parseFloat(e.filter_value))&&(t=!0);else if("bigger"==e.filter_type)(isNaN(parseFloat(e.filter_value))||w>=parseFloat(e.filter_value))&&(t=!0);else if("views_lt"==e.filter_type)(isNaN(e.pageviews)||r<e.pageviews)&&(t=!0);else if("views_eq"==e.filter_type)(isNaN(e.pageviews)||r==e.pageviews)&&(t=!0);else if("views_gt"==e.filter_type)(isNaN(e.pageviews)||r>e.pageviews)&&(t=!0);else if("countryis"==e.filter_type)n==e.filter_value.toLowerCase()&&(t=!0);else if("countryisnot"==e.filter_type)n&&n==e.filter_value.toLowerCase()||(t=!0);else if("c_exists"==e.filter_type)k.indexOf(e.filter_value)>=0&&(t=!0);else if("c_dne"==e.filter_type)k.indexOf(e.filter_value)<0&&(t=!0);else if("c_equals"==e.filter_type)k.indexOf(e.filter_value)>=0&&x[e.filter_value]==e.param_value&&(t=!0);else if("c_notequals"==e.filter_type)(k.indexOf(e.filter_value)<0||x[e.filter_value]!=e.param_value)&&(t=!0);else if("c_contains"==e.filter_type)k.indexOf(e.filter_value)>=0&&x[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("c_notcontains"==e.filter_type)(k.indexOf(e.filter_value)<0||x[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("mt_equals"===e.filter_type)for(var i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&o.toLowerCase()===e.param_value&&(t=!0)}else if("mt_notequals"===e.filter_type){for(var a=!1,i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&o.toLowerCase()===e.param_value&&(a=!0)}t=!a}else if("mt_contains"===e.filter_type)for(var i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&-1!==o.toLowerCase().indexOf(e.param_value)&&(t=!0)}else if("mt_notcontains"===e.filter_type){for(var a=!1,i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&-1!==o.toLowerCase().indexOf(e.param_value)&&(a=!0)}t=!a}else if("mt_beginning"===e.filter_type)for(var i=0;i<B.length;i++){var o=B[i].getAttribute(e.filter_value);o&&o.toLowerCase().substring(0,e.param_value.length)===e.param_value&&(t=!0)}else if("q_exists"==e.filter_type)b&&b.hasOwnProperty(e.filter_value.toLowerCase())&&(t=!0);else if("q_dne"==e.filter_type)b&&b.hasOwnProperty(e.filter_value)||(t=!0);else if("q_equals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value&&(t=!0);else if("q_notequals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value||(t=!0);else if("q_contains"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("q_notcontains"==e.filter_type)(!b||!b[e.filter_value]||b[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("exact"==e.filter_type){var u=h(e,y,v);u&&(e.full_url?g==e.match_url&&(t=!0):null==e.match_url&&u?t=!0:(g==e.match_url||d==e.match_url)&&(t=!0))}else if("beginning"==e.filter_type){var u=h(e,y,v);u&&(e.full_url?0==g.indexOf(e.match_url.toLowerCase())&&(t=!0):null==e.match_url&&u?t=!0:(0==g.indexOf(e.match_url.toLowerCase())||0==d.indexOf(e.match_url.toLowerCase()))&&(t=!0))}else if("containing"==e.filter_type){var u=h(e,y,v);u&&(e.full_url?g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0):null==e.match_url&&u?t=!0:g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0))}else if(E&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if("r_url_exact"==e.filter_type){var u=h(e,R,A);e.full_url?u&&O==e.match_url.toLowerCase()&&(t=!0):u&&O==e.match_url.toLowerCase()?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_exact"==e.filter_type)e.host?e.host==P&&(t=!0):e.filter_value==P&&(t=!0);else if("r_url_beginning"==e.filter_type){var u=h(e,R,A);e.full_url?u&&0==O.indexOf(e.match_url)&&(t=!0):u&&0==O.indexOf(e.match_url)?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_beginning"==e.filter_type)e.host&&0==P.indexOf(e.host)?t=!0:0==P.indexOf(e.filter_value)&&(t=!0);else if("r_url_containing"==e.filter_type){var u=h(e,R,A);e.full_url?u&&O.indexOf(e.match_url)>=0&&(t=!0):u&&O.indexOf(e.match_url)>=0?t=!0:null==e.match_url&&u&&(t=!0)}else"r_domain_containing"==e.filter_type&&(e.host&&P.indexOf(e.host)>=0?t=!0:P.indexOf(e.filter_value)>=0&&(t=!0));else if("ua_os"==e.filter_type&&p&&p.compareOS){var c=[e.filter_value];"winmobile"==e.filter_value?c=["windows mobile","windows phone"]:"macos"==e.filter_value?c=["mac os"]:"windesktop"==e.filter_value&&(c=["windows"]),c.indexOf(p.compareOS)>=0&&(t=!0)}else if("ua_browser"==e.filter_type&&p&&p.compareBrowser){var c=[e.filter_value];"chrome"==e.filter_value?c=["chrome","chromium"]:"ie"==e.filter_value?c=["ie","ie mobile"]:"opera"==e.filter_value?c=["opera","opera mini","opera mobile","opera tablet"]:"safari"==e.filter_value&&(c=["safari","mobile safari"]),c.indexOf(p.compareBrowser)>=0&&(t=!0)}else if("ua_exact"==e.filter_type)e.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(t=!0);else if("ua_beginning"==e.filter_type)0==navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())&&(t=!0);else if("ua_containing"==e.filter_type)navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())>=0&&(t=!0);else if("hash_exact"==e.filter_type){var m="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;m.toLowerCase()==y.toLowerCase()&&(t=!0)}else if("hash_beginning"==e.filter_type){var m="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;0==y.toLowerCase().indexOf(m.toLowerCase())&&(t=!0)}else if("hash_containing"==e.filter_type){var m="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;y.toLowerCase().indexOf(m.toLowerCase())>=0&&(t=!0)}else"all"==e.filter_type&&(t=!0);t||(s=!0)}),s?void 0:(i=!0,!1)}),i},q=o(i,"rule_type","include",!1);if(q&&q.length){var N={},D=0;q.forEach(function(e){e.group_id&&e.group_id.length?N.hasOwnProperty(e.group_id)?N[e.group_id].push(e):N[e.group_id]=[e]:(N[D]=[e],D+=1)}),currentUrlIncluded=z(N)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var F=o(i,"rule_type","exclude",!1),M=!1;if(!F||!F.length)return!0;var Q={},D=0;return F.forEach(function(e){e.group_id&&e.group_id.length?Q.hasOwnProperty(e.group_id)?Q[e.group_id].push(e):Q[e.group_id]=[e]:(Q[D]=[e],D+=1)}),M=z(Q),M?!1:!0}return!0}}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share",["jquery","URI","color","underscore","vex","plugins/text!9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/templates/share.html","jquery.article","jquery.share","jquery.style","jquery.styleBuffer","jquery.displayrules"],function(e,t,i,s,n,r){function o(e,t){var t=t||1;t=Math.pow(10,t);for(var i=["k","m","b","t"],s=i.length-1;s>=0;s--){var n=Math.pow(10,3*(s+1));if(e>=n){e=Math.round(e*t/n)/t,1e3==e&&s<i.length-1&&(e=1,s++),e+=i[s];break}}return e}var a=function(){var i=e('meta[property="og:url"]').eq(0).attr("content")||e('link[rel="canonical"]').eq(0).attr("href")||window.location.href.split("#")[0]||null;if(i){var s=t(i);return s.is("absolute")?s.toString():s.absoluteTo(window.location.href.split("#")[0]).toString()}return i};e.fn.unstatic=function(){return e(this).addClass("sumome-article"),"static"==e(this).css("position")&&e(this).css("position","relative"),"content-box"==e(this).css("box-sizing")&&e(this).css("box-sizing","border-box"),this};var l={settings:{},positionSettings:{},customPositions:{},lastScrollTop:0,lastScrollUp:0,initialize:function(){this.api.on("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/reload",e.proxy(function(){this.load()},this)),this.load()},load:function(){this.settings={articles:e.articles()},this.settings.articles.length>1&&(this.settings.articles=e([]));var t=[];this.settings.articles.each(function(){this._url&&t.push(this._url)}),e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/share/load",data:{site_id:this.api.properties.siteId,href:a(),urls:t,geoLocation:this.api.properties.geoLocation,pageViews:this.api.properties.views,userAgent:navigator.userAgent},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){if(t&&"success"in t&&t.success){e.extend(this.settings,t);var i=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(this.settings.pro&&this.settings.use_mobile_services&&i<=this.settings.mobile_width)var s=this.settings.mobile_services;else var s=this.settings.services;var n={button_padding:this.settings.button_padding,button_style:this.settings.button_style,color:this.settings.color,services:s,services_displayed:this.settings.services_displayed,shares_background:this.settings.shares_background,shares_displayed:this.settings.shares_displayed,size:this.settings.size,offset_x:0,offset_y:0,total_shares_displayed:this.settings.total_shares_displayed};"positions"in this.settings&&this.settings.positions.length&&this.settings.positions.forEach(e.proxy(function(t){switch(this.settings.pro&&t in this.settings.position_settings?this.positionSettings[t]=e.extend({},n,this.settings.position_settings[t]):this.positionSettings[t]=e.extend({},n),this.positionSettings[t].size){case"small":this.positionSettings[t].sizePx=30;break;case"large":this.positionSettings[t].sizePx=70;break;default:this.positionSettings[t].sizePx=50}!this.settings.starter&&this.positionSettings[t].services.indexOf("sumome")<0&&this.positionSettings[t].services.push("sumome")},this)),this.settings.pro&&"custom_position_settings"in this.settings&&e(this.settings.custom_position_settings).length&&this.settings.custom_position_settings.forEach(e.proxy(function(t){switch(t.use_settings||e.extend(t,n),t.size){case"small":t.sizePx=30;break;case"large":t.sizePx=70;break;default:t.sizePx=50}this.customPositions[t.position_id]=t},this)),this.settings.ctry=this.api.properties.geoLocation&&this.api.properties.geoLocation.ctry?this.api.properties.geoLocation.ctry:!1,this.settings.views=this.api.properties.views?this.api.properties.views:1,this.settings.reflink="https://sumome.com/?src=sm-sh-"+this.api.properties.siteId,e.isCurrentUrlAllowed(this.settings.display_rules,null,this.settings.ctry,this.settings.views)||(this.settings.positions=[]),this.install(),this.fetch()}},l))},position:function(){var t=this;e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").each(function(){var i=e(window).height(),s=e(this).outerHeight(),n=Math.max(Math.floor(i-s)/2,0),r=e(this).hasClass("sumome-share-client-wrapper-left-page")?"lp":"rp";r in t.settings.position_settings&&("offset_x"in t.settings.position_settings[r]&&0!=t.settings.position_settings[r].offset_x&&("lp"==r?e(this).css("left",t.settings.position_settings[r].offset_x+"px"):e(this).css("right",0-t.settings.position_settings[r].offset_x+"px")),"offset_y"in t.settings.position_settings[r]&&0!=t.settings.position_settings[r].offset_y&&(n+=t.settings.position_settings[r].offset_y)),e(this).css("top",n+"px")}),e(".sumome-share-client-desktop-bottom-bar, .sumome-share-client-mobile-top-bar, .sumome-share-client-mobile-bottom-bar").each(function(){var i=e(this).data("sumome-share-pos"),s=t.positionSettings[i].sizePx,n=e(this).children();n.show();for(var r=document.documentElement.clientWidth||document.body.clientWidth||e(window).width(),o=Math.max(s,r/n.length),a=Math.floor(r/o),l=n.length-a,u=0,c=0;l>u&&c<n.length;){var m=n.eq(n.length-1-c).data("sumome-share");"sumome"!=m&&(n.eq(n.length-1-c).hide(),u++),c++}var h=n.length-u,p=!1,f=0,i=e(this).data("sumome-share-pos");i in t.settings.position_settings&&"button_padding"in t.settings.position_settings[i]?("button_style"in t.settings.position_settings[i]&&"circle"==t.settings.position_settings[i].button_style&&(p=!0),f=t.settings.position_settings[i].button_padding):"button_padding"in t.settings&&("button_style"in t.settings&&"circle"==t.settings.button_style&&(p=!0),f=t.settings.button_padding),p?(o=s,n.css({marginRight:(r-o*h)/(h-1)+"px"})):(f&&(r-=(h-1)*f),o=r/h),n.css({width:o+"px"}),n.eq(h-1).css("marginRight",0)}),e.each(e(".sumome-share-client-custom"),e.proxy(function(t,i){var s=e(i),n=null,r=!1,o=0,a=this.positionSettings[e(i).data("sumome-share-pos")];if(s.hasClass("sumome-share-client-horizontal")&&a.button_padding>0){var l=s.children();if(e.each(l,e.proxy(function(t,i){n!==e(i).offset().top&&(o=t,r||(r=!0)),n=e(i).offset().top},this)),r){e(l).css("verticalAlign","top");for(var u=0;o>u;u++)e(l[u]).css("marginBottom",a.button_padding)}}},this))},updateTotals:function(t){this.settings.share+=t;var i=this.settings.share,s=e(".sumome-share-client-share[data-sumome-share=share]");i>=this.settings.shares_minimum?s.html("<span><strong>"+o(i)+"</strong><br>"+this.settings.shares_label+"</span>"):s.html("<span>"+this.settings.shares_label+"</span>");var n=e(".sumome-share-client-open-mobile");n.find("span").remove(),i>=this.settings.shares_minimum&&n.append("<span>"+o(i)+"</span>"),"pro"in this.settings&&this.settings.pro&&(i>=this.settings.shares_minimum?e("[data-sumome-share-count=share]").text(o(i)):e("[data-sumome-share-count=share]").text("")),this.alignShareLabels()},fetch:function(t){var t=t||null,i=null!==t;if(null===t){t=[];for(var s in e.shareServices)"background"in e.shareServices[s]&&"name"in e.shareServices[s]&&"fetch"in e.shareServices[s]&&t.push(s)}t.forEach(e.proxy(function(t){if(t in e.shareServices){var s="stumbleupon"===t;(i||!(t in this.settings)&&(!s||s&&this.settings.fetch_stumbleupon)||this.settings.fetch.indexOf(t)>=0)&&"fetch"in e.shareServices[t]&&"parse"in e.shareServices[t]&&e.shareFetch(t,a(),e.proxy(function(i,s,n){if(!i){var r=n-this.settings[t];this.settings[t]=n;var a=e(".sumome-share-client-share[data-sumome-share="+t+"]");a.each(e.proxy(function(t,i){var s=this.positionSettings[e(i).parent().data("sumome-share-pos")];s.shares_displayed&&n>=0&&n>=this.settings.shares_minimum?(e(i).addClass("sumome-share-client-count"),e(i).find("span").remove(),e(i).append("<span>"+o(n)+"</span>")):(e(i).find("span").remove(),e(i).removeClass("sumome-share-client-count"))},this)),"pro"in this.settings&&this.settings.pro&&(n>=0&&n>=this.settings.shares_minimum?e("[data-sumome-share-count="+t+"]").text(o(n)):e("[data-sumome-share-count="+t+"]").text("")),this.updateTotals(r);try{e.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:this.api.properties.sumoUrl+"/api/jsonpcallback",data:{site_id:this.api.properties.siteId,href:s,service:t,count:n},success:function(e){}})}catch(l){}}},this))}},this))},install:function(){e(window).on("resize.sumome-share",s.debounce(function(e){l.render()},300)),this.render(),setInterval(e.proxy(function(){this.bindCustomShares()},this),500)},remove:function(){e(".sumome-share-client-wrapper, .sumome-share-client-open-mobile").remove()},popupMobile:function(t,i){e(".sumome-share-client-close-mobile").trigger("click");var s=e('<div class="sumome-share-mobile-popup" />').appendTo(document.body),n=e('<div class="sumome-share-mobile-close-popup"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png"></div>'),r=e("<ul />").appendTo(s);r.data("sumome-share-target-url",t),r.data("sumome-share-target-text",i),n.appendTo(s),n.click(function(){e(document.body).removeClass("sumome-share-mobile-popup-open"),s.remove()}),e(document.body).addClass("sumome-share-mobile-popup-open"),this.renderPopupServices(r,!1)},popup:function(t,i){this.$modal=n.open({content:"<h5>Share</h5><ul />",className:"sumome-sharer-popup sumome-sharer-popup-small",overlayClassName:"sumome-sharer-popup-overlay",contentClassName:"sumome-sharer-popup-content",closeClassName:"sumome-sharer-popup-close",overlayClosesOnClick:!0}),this.$modal.find("ul").data("sumome-share-target-url",t),this.$modal.find("ul").data("sumome-share-target-text",i),this.$modal.on("vexResize",e.proxy(function(t,i){var s=Math.max((e(window).height()-i.$vexContent.outerHeight())/2,0);i.$vex.css({"padding-top":s+"px"})},this)),this.$modal.on("vexOpen",e.proxy(function(t,i){this.renderPopupServices(this.$modal.find("ul"),!0),this.$modal.resize(),"starter"in this.settings&&this.settings.starter||e(".sumome-sharer-popup-overlay").append('<a class="sumome-sharer-popup-link" href="'+this.settings.reflink+'" target="_blank">Powered by SumoMe</a>')},this))},renderPopupServices:function(s,n){var r=e('<input type="text" />').attr("placeholder","Find a service");r.insertBefore(s),"starter"in this.settings&&this.settings.starter||s.after('<a class="sumome-sharer-popup-link" href="'+this.settings.reflink+'" target="_blank">Powered by SumoMe</a>'),e.shareSortedKeys.map(e.proxy(function(t){var n=e.shareServices[t];if("background"in n&&"name"in n&&"sumome"!=t){var r=e('<li data-service="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+t+"-"+(this.settings.color?i.whiteOrBlack(this.settings.color):"white")+'-60.png">'+n.name+"</li>").data("sumome-share",t);s.append(r),r.find("img").css("background",this.settings.color?this.settings.color:"background"in n?n.background:"#ccc")}},this)),s.on("click","li",e.proxy(function(i){var s=e(i.currentTarget).data("service"),n=e(i.delegateTarget).data("sumome-share-target-url")||a(),r=e(i.delegateTarget).data("sumome-share-target-text");if("share"!=s){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:s+"-click",href:n}),"twitter"===s&&(e('meta[name="twitter:title"]').length&&"undefined"==typeof e(i.currentTarget).data("sumome-share-text")&&(r=e('meta[name="twitter:title"]').eq(0).attr("content")),e('meta[name="twitter:url"]').length&&"undefined"==typeof e(i.currentTarget).data("sumome-share-url")&&(n=e('meta[name="twitter:url"]').eq(0).attr("content")));var o={url:n,text:r,starter:"starter"in this.settings&&this.settings.starter,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain};if("services_settings"in this.settings&&this.settings.services_settings&&s in this.settings.services_settings&&e.extend(o,this.settings.services_settings[s]),"pro"in this.settings&&this.settings.pro&&"url"in o&&o.url&&"utm"in this.settings&&this.settings.utm){var l=t(o.url);"utm_source"in this.settings&&this.settings.utm_source&&(l.removeQuery("utm_source"),l.addQuery("utm_source",this.settings.utm_source.replace("{service}",s))),"utm_medium"in this.settings&&this.settings.utm_medium&&(l.removeQuery("utm_medium"),l.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",s))),"utm_name"in this.settings&&this.settings.utm_name&&(l.removeQuery("utm_campaign"),l.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",s))),"utm_custom_key"in this.settings&&this.settings.utm_custom_key&&"utm_custom_val"in this.settings&&this.settings.utm_custom_val&&(l.removeQuery(this.settings.utm_custom_key),l.addQuery(this.settings.utm_custom_key.replace("{service}",s),this.settings.utm_custom_val.replace("{service}",s))),o.url=l.toString()}e.share(s,o,e.proxy(function(e){this.fetch([e])},this))}["fancy","kaboodle","printerfriendly","slashdot"].indexOf(s)>-1&&e(".sumome-vex-close",this.$modal).trigger("click")},this)),r.on("keyup",function(){var t=(e(this).val()+"").trim().toLowerCase(),i=e(this).next("ul");for(var s in e.shareServices){var n=e.shareServices[s];if("background"in n&&"name"in n){var r=n.name.toLowerCase(),o=""==t?!0:r.indexOf(t)>=0;i.find('li[data-service="'+s+'"]').toggle(o)}}}),n&&r.focus()},render:function(){var t=this.settings.articles,n=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),r=n<=this.settings.mobile_width?"mobile":"desktop";if("current_mode"in this.settings&&r==this.settings.current_mode)return void this.position();if(this.remove(),0!=this.positionSettings.length){this.settings.current_mode=r;var a=50;if("large"==this.settings.size?a=70:"small"==this.settings.size&&(a=30),"mobile"==r){if("positions"in this.settings&&this.settings.positions.indexOf("mbt")>=0&&(e("body").append('<div data-sumome-stylebuffer-top="90" data-sumome-stylebuffertop-offsety="'+this.positionSettings.mbt.offset_y+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"><div data-sumome-share-pos="mbt" class="sumome-share-client sumome-share-client-mobile-top-bar'+(this.positionSettings.mbt.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbt.size+'"></div></div>'),e("body").styleBufferTop()),"positions"in this.settings&&this.settings.positions.indexOf("mbb")>=0&&(e("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.mbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"><div data-sumome-share-pos="mbb" class="sumome-share-client sumome-share-client-mobile-bottom-bar'+(this.positionSettings.mbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbb.size+'"></div></div>'),e("body").styleBufferBottom(),this.settings.scroll_view&&(this.$mobileBottomBar=e(".sumome-share-client-wrapper-mobile-bottom-bar"),this.$mobileBottomBar.css("bottom",-1*this.$mobileBottomBar.height()),this.$mobileBottomBar.addClass("sumome-share-client-wrapper-mobile-bottom-bar-scroll"),this.$mobileBottomBar.addClass("sumome-share-client-wrapper-mobile-bottom-bar-hidden"),this.lastScrollTop=e(window).scrollTop(),e(window).on("scroll",s.debounce(function(){l.scroll()},1)))),"positions"in this.settings&&this.settings.positions.indexOf("mbl")>=0){var u=e('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-left'+(this.positionSettings.mbl.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png"></div>'),c=e('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png"></div>'),m=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-left'+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>'),h=e('<div class="sumome-share-client-mobile sumome-share-client-mobile-left'+(this.settings.list_view?" sumome-share-client-mobile-list":"")+(this.positionSettings.mbl.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbl.size+'"></div>');if(e("body").append(u),m.append(h),h.append(c),e("body").append(m),this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&u.append("<span>"+("share"in this.settings?o(this.settings.share):"0")+"</span>"),this.positionSettings.mbl.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){
var p=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbl.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?p.append("<span><strong>"+("share"in this.settings?o(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):p.append("<span>"+this.settings.shares_label+"</span>"),p.css("background","transparent"),p.css("color","#fff");var f=e('<div class="sumome-row"></div>'),d=e('<div class="sumome-12 sumome-columns sumome-text-center"></div>');d.append(p),f.append(d),h.append(f)}var g=e('<div class="sumome-row sumome-share-services"></div>');h.append(g);var v=0;this.positionSettings.mbl.services.forEach(e.proxy(function(t){if(v<this.positionSettings.mbl.services_displayed||"sumome"==t){var s=e('<div class="sumome-share-client-animated sumome-share-client-share"'+(this.settings.list_view?"":' data-sumome-share="'+t+'"')+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.starter&&"sumome"==t?"sumomepro":t)+"-"+(this.positionSettings.mbl.color?i.whiteOrBlack(this.positionSettings.mbl.color):"white")+'-60.png"></div>');this.positionSettings.mbl.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(s.addClass("sumome-share-client-count"),s.append("<span>"+(t in this.settings?o(this.settings[t]):"0")+"</span>")),s.css("background",this.positionSettings.mbl.color?this.positionSettings.mbl.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),s.css("color",this.positionSettings.mbl.color?i.whiteOrBlack(this.positionSettings.mbl.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff");var n=e('<div class="sumome-4 sumome-columns'+(this.settings.list_view?'" data-sumome-share="'+t+'"':' sumome-text-center"')+"></div>");if(n.append(s),this.settings.list_view){var r="name"in e.shareServices[t]?e.shareServices[t].name:t;"SumoMe"==r&&(r="More"),n.append(r)}g.append(n),"sumome"!=t&&v++}},this)),g.find(".sumome-columns").last().addClass("sumome-end"),e(".sumome-share-client-open-mobile-left").on("click",e.proxy(function(t){e(".sumome-share-client-open-mobile-left").hide(),e(".sumome-share-client-wrapper-mobile-left").show(),e(document.body).addClass("sumome-share-mobile-popup-open")},this)),e(".sumome-share-client-close-mobile-left").on("click",e.proxy(function(t){e(".sumome-share-client-wrapper-mobile-left").hide(),e(".sumome-share-client-open-mobile-left").show(),e(document.body).removeClass("sumome-share-mobile-popup-open")},this))}if("positions"in this.settings&&this.settings.positions.indexOf("mbr")>=0){var u=e('<div class="sumome-share-client-open-mobile sumome-share-client-open-mobile-right'+(this.positionSettings.mbr.total_shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-black-60.png"></div>'),c=e('<div class="sumome-share-client-close-mobile sumome-share-client-close-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"><img src="'+this.api.properties.baseUrl+'images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/close-white-60.png"></div>'),m=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-mobile sumome-share-client-wrapper-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>'),h=e('<div class="sumome-share-client-mobile sumome-share-client-mobile-right'+(this.positionSettings.mbr.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.mbr.size+'"></div>');if(e("body").append(u),m.append(h),h.append(c),e("body").append(m),this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum&&u.append("<span>"+("share"in this.settings?o(this.settings.share):"0")+"</span>"),this.positionSettings.mbr.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var p=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');this.positionSettings.mbr.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?p.append("<span><strong>"+("share"in this.settings?o(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):p.append("<span>"+this.settings.shares_label+"</span>"),p.css("background","transparent"),p.css("color","#fff");var f=e('<div class="sumome-row"></div>'),d=e('<div class="sumome-12 sumome-columns sumome-text-center"></div>');d.append(p),f.append(d),h.append(f)}var g=e('<div class="sumome-row"></div>');h.append(g);var v=0;this.positionSettings.mbr.services.forEach(e.proxy(function(t){if(v<this.positionSettings.mbr.services_displayed||"sumome"==t){var s=e('<div class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.starter&&"sumome"==t?"sumomepro":t)+"-"+(this.positionSettings.mbr.color?i.whiteOrBlack(this.positionSettings.mbr.color):"white")+'-60.png"></div>');this.positionSettings.mbr.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(s.addClass("sumome-share-client-count"),s.append("<span>"+(t in this.settings?o(this.settings[t]):"0")+"</span>")),s.css("background",this.positionSettings.mbr.color?this.positionSettings.mbr.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),s.css("color",this.positionSettings.mbr.color?i.whiteOrBlack(this.positionSettings.mbr.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff");var n=e('<div class="sumome-4 sumome-columns sumome-text-center"></div>');n.append(s),g.append(n),"sumome"!=t&&v++}},this)),g.find(".sumome-columns").last().addClass("sumome-end"),e(".sumome-share-client-open-mobile-right").on("click",e.proxy(function(t){e(".sumome-share-client-open-mobile-right").hide(),e(".sumome-share-client-wrapper-mobile-right").show(),e(document.body).addClass("sumome-share-mobile-popup-open")},this)),e(".sumome-share-client-close-mobile-right").on("click",e.proxy(function(t){e(".sumome-share-client-wrapper-mobile-right").hide(),e(".sumome-share-client-open-mobile-right").show(),e(document.body).removeClass("sumome-share-mobile-popup-open")},this))}}else{if(e.fn.styleBuffer._update(),"positions"in this.settings&&this.settings.positions.indexOf("la")>=0,"positions"in this.settings&&this.settings.positions.indexOf("ra")>=0,"positions"in this.settings&&this.settings.positions.indexOf("ra")>=0){t.unstatic(),t.styleBuffer("padding","right",20+this.positionSettings.ra.sizePx);var y=this;t.each(function(){var t=parseInt(e(this).css("padding-right").replace("px",""))-(a+10),i=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-sidebar'+(y.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.ra.size+'"></div>'),s=e('<div data-sumome-share-pos="ra" class="sumome-share-client sumome-share-client-right-sidebar-article'+(y.positionSettings.ra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.ra.size+'"></div>');if(i.append(s),this._header){var n=this._header.position().top,r=this._header.outerHeight();i.css("top",n+r+"px")}i.css("right",t+"px"),e(this).prepend(i)})}if("positions"in this.settings&&this.settings.positions.indexOf("la")>=0){t.unstatic(),t.styleBuffer("padding","left",2+this.positionSettings.la.sizePx);var y=this;t.each(function(){var t=parseInt(e(this).css("padding-left").replace("px",""))-(10+a),i=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-sidebar'+(y.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.la.size+'"></div>'),s=e('<div data-sumome-share-pos="la" class="sumome-share-client sumome-share-client-left-sidebar-article'+(y.positionSettings.la.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.la.size+'"></div>');if(i.append(s),this._header){var n=this._header.position().top,r=this._header.outerHeight();i.css("top",n+r+"px")}i.css("left",t+"px"),e(this).prepend(i)})}if("positions"in this.settings&&this.settings.positions.indexOf("hra")>=0){t.unstatic();var y=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(y.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.hra.size+'"></div>'),i=e('<div data-sumome-share-pos="hra" class="sumome-share-client sumome-share-client-header-right-article'+(y.positionSettings.hra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.hra.size+'"></div>');t.append(i),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("hca")>=0){t.unstatic();var y=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(y.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.hca.size+'"></div>'),i=e('<div data-sumome-share-pos="hca" class="sumome-share-client sumome-share-client-header-center-article'+(y.positionSettings.hca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.hca.size+'"></div>');t.append(i),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("hla")>=0){t.unstatic();var y=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(y.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.hla.size+'"></div>'),i=e('<div data-sumome-share-pos="hla" class="sumome-share-client sumome-share-client-header-left-article'+(y.positionSettings.hla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.hla.size+'"></div>');t.append(i),this._header?this._header.after(t):e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tra")>=0){t.unstatic();var y=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(y.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.tra.size+'"></div>'),i=e('<div data-sumome-share-pos="tra" class="sumome-share-client sumome-share-client-top-right-article'+(y.positionSettings.tra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.tra.size+'"></div>');t.append(i),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tca")>=0){t.unstatic();var y=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(y.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.tca.size+'"></div>'),i=e('<div data-sumome-share-pos="tca" class="sumome-share-client sumome-share-client-top-center-article'+(y.positionSettings.tca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.tca.size+'"></div>');t.append(i),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("tla")>=0){t.unstatic();var y=this;t.each(function(){var t=e('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(y.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.tla.size+'"></div>'),i=e('<div data-sumome-share-pos="tla" class="sumome-share-client sumome-share-client-top-left-article'+(y.positionSettings.tla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+y.settings.theme+" sumome-share-client-"+y.positionSettings.tla.size+'"></div>');t.append(i),e(this).prepend(t)})}if("positions"in this.settings&&this.settings.positions.indexOf("bra")>=0&&t.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"><div data-sumome-share-pos="bra" class="sumome-share-client sumome-share-client-bottom-right-article'+(this.positionSettings.bra.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bra.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bca")>=0&&t.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-center'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"><div data-sumome-share-pos="bca" class="sumome-share-client sumome-share-client-bottom-center-article'+(this.positionSettings.bca.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bca.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("bla")>=0&&t.unstatic().append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"><div data-sumome-share-pos="bla" class="sumome-share-client sumome-share-client-bottom-left-article'+(this.positionSettings.bla.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.bla.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("lp")>=0&&e("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"><div data-sumome-share-pos="lp" class="sumome-share-client sumome-share-client-left-page'+(this.positionSettings.lp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.lp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("rp")>=0&&e("body").append('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"><div data-sumome-share-pos="rp" class="sumome-share-client sumome-share-client-right-page'+(this.positionSettings.rp.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.rp.size+'"></div></div>'),"positions"in this.settings&&this.settings.positions.indexOf("dbb")>=0&&(e("body").append('<div data-sumome-stylebuffer-bottom="90" data-sumome-stylebufferbottom-offsety="'+(0-this.positionSettings.dbb.offset_y)+'" class="sumome-share-client-wrapper sumome-share-client-wrapper-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"><div data-sumome-share-pos="dbb" class="sumome-share-client sumome-share-client-desktop-bottom-bar'+(this.positionSettings.dbb.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+this.positionSettings.dbb.size+'"></div></div>'),e("body").styleBufferBottom()),"positions"in this.settings&&(this.settings.positions.indexOf("lp")>=0||this.settings.positions.indexOf("rp")>=0)){var b=e('<div class="sumome-share-client-show"><span /></div>');e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").prepend(b);var w=e('<div class="sumome-share-client-hide"><span /></div>');e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").append(w),e(".sumome-share-client-wrapper-left-page, .sumome-share-client-wrapper-right-page").hover(function(){e(this).hasClass("sumome-share-client-hidden")||e(this).find(".sumome-share-client-hide").fadeIn("fast")},function(){e(this).find(".sumome-share-client-hide").fadeOut("fast")}),e(".sumome-share-client-hide").click(function(){var t=e(this).closest(".sumome-share-client-wrapper"),i=t.hasClass("sumome-share-client-wrapper-left-page");t.data("sumome-share-original-position",t.css(i?"left":"right")),t.animate(i?{left:"-"+a+"px"}:{right:"-"+a+"px"},"fast",function(){e(this).addClass("sumome-share-client-hidden"),e(this).find(".sumome-share-client-hide").hide(),e(this).animate(i?{left:"0px"}:{right:"0px"},"fast")})}),e(".sumome-share-client-show").click(function(){var t=e(this).closest(".sumome-share-client-wrapper"),i=t.hasClass("sumome-share-client-wrapper-left-page"),s=t.data("sumome-share-original-position");t.animate(i?{left:"-"+a+"px"}:{right:"-"+a+"px"},"fast",function(){e(this).removeClass("sumome-share-client-hidden"),e(this).find(".sumome-share-client-hide").show(),e(this).animate(i?{left:s}:{right:s},"fast")})})}}this.addButtons(e(".sumome-share-client"),r),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts(),e(".sumome-share-client-share",e(".sumome-share-client-mobile-right,.sumome-share-client-mobile-left")).on("click",e.proxy(function(e){this.click(e)},this)),this.api.emit("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service/rendered")}},addButtons:function(t,s){t.each(e.proxy(function(t,n){var r=this.positionSettings[e(n).data("sumome-share-pos")];if(r.total_shares_displayed&&(this.settings.shares_label||this.settings.shares_minimum<=0||!("share"in this.settings)||parseInt(this.settings.share)>=this.settings.shares_minimum)){var a=e('<div class="sumome-share-client-animated sumome-share-client-share sumome-share-client-share-share sumome-share-client-count" data-sumome-share="share"></div>');r.total_shares_displayed&&"share"in this.settings&&parseInt(this.settings.share)>=this.settings.shares_minimum?a.append("<span><strong>"+("share"in this.settings?o(this.settings.share):"0")+"</strong><br>"+this.settings.shares_label+"</span>"):a.append("<span>"+this.settings.shares_label+"</span>"),"mobile"===s?(a.css("background",r.color?r.color:"transparent"),a.css("color",r.color?i.whiteOrBlack(r.color):"black")):(a.css("background","transparent"),a.css("color","#000")),e(n).append(a)}var l=0,u="";e(n).data("sumome-share-url")&&(u+=' data-sumome-share-url="'+e(n).data("sumome-share-url")+'"'),e(n).data("sumome-share-text")&&(u+=' data-sumome-share-text="'+e(n).data("sumome-share-text")+'"'),r.services.forEach(e.proxy(function(t){if((l<r.services_displayed||"sumome"==t)&&"share"!=t){var s=e("<a"+u+' title="'+(this.settings.starter&&"sumome"==t?"More":e.shareServices[t].name)+'" class="sumome-share-client-animated sumome-share-client-share" data-sumome-share="'+t+'" href="javascript:void(0);"><img src="'+this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/"+(this.settings.starter&&"sumome"==t?"sumomepro":t)+"-"+(r.color?i.whiteOrBlack(r.color):"white")+'-60.png"></a>');r.shares_displayed&&t in this.settings&&parseInt(this.settings[t])>=this.settings.shares_minimum&&(s.addClass("sumome-share-client-count"),s.append("<span>"+(t in this.settings?o(this.settings[t]):"0")+"</span>")),s.css("background",r.color?r.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc"),s.css("color",r.color?i.whiteOrBlack(r.color):"color"in e.shareServices[t]?e.shareServices[t].color:"#fff"),e(n).append(s),"sumome"!=t&&l++}},this)),e(".sumome-share-client-share",e('[data-sumome-share-pos="'+e(n).data("sumome-share-pos")+'"]')).hover(e.proxy(function(){var t=e(this).data("sumome-share");if(t&&t in e.shareServices){var s=i.shadeColor(r.color?r.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc",-10);e(this).css("background",s)}}),e.proxy(function(){var t=e(this).data("sumome-share");t&&t in e.shareServices&&e(this).css("background",r.color?r.color:"background"in e.shareServices[t]?e.shareServices[t].background:"#ccc")})),e(".sumome-share-client-share",n).on("click",e.proxy(function(e){this.click(e)},this))},this))},bindCustomShares:function(){if("pro"in this.settings&&this.settings.pro){var t=e("[data-sumome-share]:not(.sumome-share-client-share, [data-sumome-custom])");t.on("click",e.proxy(function(e){this.click(e)},this)).attr("data-sumome-custom",!0),t.length>0&&this.updateCustomCounts();var i=e("[data-sumome-share-id]:empty");if(i.length>0){var s=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),n=s<=this.settings.mobile_width?"mobile":"desktop";e.each(i,e.proxy(function(t,i){var s=e(i).data("sumome-share-id");if(s in this.customPositions){var r=this.customPositions[s];if("mobile"!=n||r.show_mobile){var o=e(i),a="";o.data("sumome-share-url")&&(a+=' data-sumome-share-url="'+o.data("sumome-share-url")+'"'),o.data("sumome-share-text")&&(a+=' data-sumome-share-text="'+o.data("sumome-share-text")+'"'),o.html('<div class="sumome-share-client-wrapper sumome-share-client-wrapper-custom'+(r.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+(r["float"]?" sumome-share-client-float-"+r["float"]:"")+" sumome-share-client-"+r.size+'"><div data-sumome-share-pos="'+r.position_id+'" class="sumome-share-client sumome-share-client-custom'+(r.shares_displayed?" sumome-share-client-counts":"")+" sumome-share-client-"+this.settings.theme+" sumome-share-client-"+r.size+" sumome-share-client-"+r.orientation+'"'+a+"></div></div>"),this.positionSettings[r.position_id]=r}}},this)),this.addButtons(e(".sumome-share-client",i),n),this.applyPositionSettings(),this.position(),this.alignShareLabels(),this.updateCustomCounts()}}},updateCustomCounts:function(){"pro"in this.settings&&this.settings.pro&&e("[data-sumome-share-count]").each(e.proxy(function(t,i){var s=e(i).data("sumome-share-count");s in this.settings&&parseInt(this.settings[s])>=this.settings.shares_minimum?e(i).text(s in this.settings?o(this.settings[s]):"0"):e(i).text("")},this))},click:function(i){var s=e(i.currentTarget).data("sumome-share"),n=e(i.currentTarget).data("sumome-share-url")||e(i.currentTarget).closest(".sumome-share-client").data("sumome-share-target-url")||a(),r=e(i.currentTarget).data("sumome-share-text")||e(i.currentTarget).closest(".sumome-share-client").data("sumome-share-target-text");if("sumome"==s)this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:s+"-click",href:n}),"mobile"===this.settings.current_mode?this.popupMobile(n,r):this.popup(n,r);else if("share"!=s){this.api.emit("event",{appId:"9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1",event:s+"-click",href:n}),"twitter"===s&&(e('meta[name="twitter:title"]').length&&"undefined"==typeof e(i.currentTarget).data("sumome-share-text")&&(r=e('meta[name="twitter:title"]').eq(0).attr("content")),e('meta[name="twitter:url"]').length&&"undefined"==typeof e(i.currentTarget).data("sumome-share-url")&&(n=e('meta[name="twitter:url"]').eq(0).attr("content")));var o={url:n,text:r,starter:"starter"in this.settings&&this.settings.starter,siteId:this.api.properties.siteId,sumoUrl:this.api.properties.sumoUrl,shortenUrl:this.settings.use_shortener,shortener:this.settings.shortener+this.settings.short_domain};if("services_settings"in this.settings&&this.settings.services_settings&&s in this.settings.services_settings&&e.extend(o,this.settings.services_settings[s]),"pro"in this.settings&&this.settings.pro&&"url"in o&&o.url&&"utm"in this.settings&&this.settings.utm){var l=t(o.url);"utm_source"in this.settings&&this.settings.utm_source&&(l.removeQuery("utm_source"),l.addQuery("utm_source",this.settings.utm_source.replace("{service}",s))),"utm_medium"in this.settings&&this.settings.utm_medium&&(l.removeQuery("utm_medium"),l.addQuery("utm_medium",this.settings.utm_medium.replace("{service}",s))),"utm_name"in this.settings&&this.settings.utm_name&&(l.removeQuery("utm_campaign"),l.addQuery("utm_campaign",this.settings.utm_name.replace("{service}",s))),"utm_custom_key"in this.settings&&this.settings.utm_custom_key&&"utm_custom_val"in this.settings&&this.settings.utm_custom_val&&(l.removeQuery(this.settings.utm_custom_key),l.addQuery(this.settings.utm_custom_key,this.settings.utm_custom_val.replace("{service}",s))),o.url=l.toString()}e.share(s,o,e.proxy(function(e){this.fetch([e])},this))}},applyPositionSettings:function(){var t=this.settings;if("object"==typeof t&&(Array.isArray(t.positions)&&0!==t.positions.length||"object"==typeof this.customPositions)&&"object"==typeof t.position_settings){var s={lp:{suffix:"left-page",layout:"vertical"},rp:{suffix:"right-page",layout:"vertical"},la:{suffix:"left-sidebar-article",layout:"vertical"},ra:{suffix:"right-sidebar-article",layout:"vertical"},hla:{suffix:"header-left-article",layout:"horizontal"},hca:{suffix:"header-center-article",layout:"horizontal"},hra:{suffix:"header-right-article",layout:"horizontal"},tla:{suffix:"top-left-article",layout:"horizontal"},tca:{suffix:"top-center-article",layout:"horizontal"},tra:{suffix:"top-right-article",layout:"horizontal"},bla:{suffix:"bottom-left-article",layout:"horizontal"},bca:{suffix:"bottom-center-article",layout:"horizontal"},bra:{suffix:"bottom-right-article",layout:"horizontal"},dbb:{suffix:"wrapper-desktop-bottom-bar",layout:"horizontal"},mbt:{suffix:"wrapper-mobile-top-bar",layout:"horizontal"},mbb:{suffix:"wrapper-mobile-bottom-bar",layout:"horizontal"},mbl:{suffix:"open-mobile-left",layout:"horizontal"},mbr:{suffix:"open-mobile-right",layout:"horizontal"}};e(this.customPositions).length&&e.each(this.customPositions,e.proxy(function(e,i){t.positions.push(i.position_id),s[i.position_id]={suffix:!1,layout:i.orientation}},this)),t.positions.forEach(e.proxy(function(t){if(s.hasOwnProperty(t)){var n,r=this.positionSettings[t],o=s[t];if(o.suffix)n=e(".sumome-share-client-"+o.suffix);else{if("undefined"==typeof r)return;n=e('[data-sumome-share-id="'+r.position_id+'"]')}if(n.removeClass("sumome-share-client-circle").removeClass("sumome-share-client-rounded"),r.button_style&&"square"!==r.button_style&&n.addClass("sumome-share-client-"+r.button_style),r.button_padding&&r.button_padding>0&&e(".sumome-share-client-share",n).css("margin"+("vertical"==o.layout?"Bottom":"Right"),r.button_padding+"px"),r.shares_background)if(["mbl","mbr"].indexOf(t)>-1){var a=i.whiteOrBlack(r.shares_background);n.css({backgroundColor:i.hexToRGBA(r.shares_background,.8)}).find("span").css({color:a}),"white"===a&&n.find("img").attr("src",this.api.properties.baseUrl+"images/apps/9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share-white-60.png")}else{if(r.shares_background)var l={backgroundColor:r.shares_background,color:i.whiteOrBlack(r.shares_background)};else var l={backgroundColor:"transparent",color:"#000"};e(".sumome-share-client-share-share",n).css(l)}if(["la","ra"].indexOf(t)>-1&&(n=n.closest(".sumome-share-client-wrapper")),!(["lp","rp"].indexOf(t)<0))if(["mbt","mbb","mbl","mbr"].indexOf(t)>-1){if(r.offset_x&&0!==r.offset_x){var u="left",c=r.offset_x;"mbr"==t&&(u="right",c=0-c),n.css(u,c+"px")}["mbt","mbb"].indexOf(t)<0&&r.offset_y&&0!==r.offset_y&&n.css("bottom",0-r.offset_y+"px")}else{var m="marginTop",u="marginLeft",c=0;r.position_id&&(n=e(".sumome-share-client-wrapper-custom",n)),r.offset_x&&0!==r.offset_x&&("la"===t?u="left":"ra"===t?u="right":["tra","hra","bra"].indexOf(t)>-1&&(u="marginRight"),c=["ra","tra","hra","bra"].indexOf(t)>-1?0-r.offset_x:r.offset_x,n.css(u,c+"px")),r.offset_y&&0!==r.offset_y&&(["la","ra"].indexOf(t)>-1&&(m="top"),n.css(m,r.offset_y+"px"))}}},this))}},alignShareLabels:function(){e.each(e(".sumome-share-client-share-share"),function(){var t=e(this).outerHeight(),i=e(this).find("span").css("bottom","auto"),s=e(i).outerHeight();e(i).css("top",(t-s)/2+"px")})},scroll:function(){if(null!=this.$mobileBottomBar){var t=e(window).scrollTop(),i="sumome-share-client-wrapper-mobile-bottom-bar-hidden",s=!this.$mobileBottomBar.hasClass(i),n=this.$mobileBottomBar.height()||16;t>this.lastScrollTop?(this.lastScrollUp=0,s||(this.$mobileBottomBar.css("bottom",""),this.$mobileBottomBar.removeClass(i))):t<this.lastScrollTop&&(this.lastScrollUp+=this.lastScrollTop-t,(s&&this.lastScrollUp>=n/2||0==t)&&(this.$mobileBottomBar.css("bottom",-1*n),this.$mobileBottomBar.addClass(i))),this.lastScrollTop=t}}};return l}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service",["jquery","9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/share"],function(e,t){return function(e){var i=function(i,s){sumo.require(["plugins/css!../css/sumome-share-client.css"],function(){t.api=e,t.initialize(),s()})},s=function(e){e()};return{init:i,destroy:s}}}),sumo.define("9e8a4d2a-6f8c-415e-851b-bdfe4c01d5c1/service",function(){})}(void 0,void 0);